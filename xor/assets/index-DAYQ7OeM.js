var kt=Object.defineProperty;var Ot=(s,e,t)=>e in s?kt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var z=(s,e,t)=>(Ot(s,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function R(){}const Ce=s=>s;function ot(s){return s()}function Ne(){return Object.create(null)}function N(s){s.forEach(ot)}function ce(s){return typeof s=="function"}function X(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}function Pt(s){return Object.keys(s).length===0}function rt(s,...e){if(s==null){for(const n of e)n(void 0);return R}const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Tt(s,e,t){s.$$.on_destroy.push(rt(e,t))}function Fe(s){const e=typeof s=="string"&&s.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[s,"px"]}const at=typeof window<"u";let ie=at?()=>window.performance.now():()=>Date.now(),xe=at?s=>requestAnimationFrame(s):R;const H=new Set;function ct(s){H.forEach(e=>{e.c(s)||(H.delete(e),e.f())}),H.size!==0&&xe(ct)}function ke(s){let e;return H.size===0&&xe(ct),{promise:new Promise(t=>{H.add(e={c:s,f:t})}),abort(){H.delete(e)}}}const lt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;class le{constructor(e){z(this,"_listeners","WeakMap"in lt?new WeakMap:void 0);z(this,"_observer");z(this,"options");this.options=e}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){return this._observer??(this._observer=new ResizeObserver(e=>{var t;for(const n of e)le.entries.set(n.target,n),(t=this._listeners.get(n.target))==null||t(n)}))}}le.entries="WeakMap"in lt?new WeakMap:void 0;function oe(s,e){s.appendChild(e)}function ut(s){if(!s)return document;const e=s.getRootNode?s.getRootNode():s.ownerDocument;return e&&e.host?e:s.ownerDocument}function Et(s){const e=Z("style");return e.textContent="/* empty */",It(ut(s),e),e.sheet}function It(s,e){return oe(s.head||s,e),e.sheet}function A(s,e,t){s.insertBefore(e,t||null)}function E(s){s.parentNode&&s.parentNode.removeChild(s)}function ht(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function Z(s){return document.createElement(s)}function Y(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function dt(s){return document.createTextNode(s)}function ft(){return dt(" ")}function Re(){return dt("")}function K(s,e,t,n){return s.addEventListener(e,t,n),()=>s.removeEventListener(e,t,n)}function Be(s){return function(e){return e.preventDefault(),s.call(this,e)}}function w(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function $t(s){return Array.from(s.childNodes)}function q(s,e,t,n){t==null?s.style.removeProperty(e):s.style.setProperty(e,t,n?"important":"")}const xt=new le({box:"border-box"});function pe(s,e,t){s.classList.toggle(e,!!t)}function Rt(s,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(s,{detail:e,bubbles:t,cancelable:n})}const be=new Map;let ye=0;function At(s){let e=5381,t=s.length;for(;t--;)e=(e<<5)-e^s.charCodeAt(t);return e>>>0}function qt(s,e){const t={stylesheet:Et(e),rules:{}};return be.set(s,t),t}function we(s,e,t,n,i,o,r,a=0){const l=16.666/n;let c=`{
`;for(let g=0;g<=1;g+=l){const u=e+(t-e)*o(g);c+=g*100+`%{${r(u,1-u)}}
`}const m=c+`100% {${r(t,1-t)}}
}`,h=`__svelte_${At(m)}_${a}`,d=ut(s),{stylesheet:p,rules:f}=be.get(d)||qt(d,s);f[h]||(f[h]=!0,p.insertRule(`@keyframes ${h} ${m}`,p.cssRules.length));const S=s.style.animation||"";return s.style.animation=`${S?`${S}, `:""}${h} ${n}ms linear ${i}ms 1 both`,ye+=1,h}function Se(s,e){const t=(s.style.animation||"").split(", "),n=t.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),i=t.length-n.length;i&&(s.style.animation=n.join(", "),ye-=i,ye||jt())}function jt(){xe(()=>{ye||(be.forEach(s=>{const{ownerNode:e}=s.stylesheet;e&&E(e)}),be.clear())})}let re;function se(s){re=s}function Lt(){if(!re)throw new Error("Function called outside component initialization");return re}function Ae(s){Lt().$$.on_mount.push(s)}const V=[],Me=[];let J=[];const De=[],Ut=Promise.resolve();let Ie=!1;function Nt(){Ie||(Ie=!0,Ut.then(pt))}function U(s){J.push(s)}const Te=new Set;let W=0;function pt(){if(W!==0)return;const s=re;do{try{for(;W<V.length;){const e=V[W];W++,se(e),Ft(e.$$)}}catch(e){throw V.length=0,W=0,e}for(se(null),V.length=0,W=0;Me.length;)Me.pop()();for(let e=0;e<J.length;e+=1){const t=J[e];Te.has(t)||(Te.add(t),t())}J.length=0}while(V.length);for(;De.length;)De.pop()();Ie=!1,Te.clear(),se(s)}function Ft(s){if(s.fragment!==null){s.update(),N(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(U)}}function Bt(s){const e=[],t=[];J.forEach(n=>s.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),J=e}let te;function qe(){return te||(te=Promise.resolve(),te.then(()=>{te=null})),te}function M(s,e,t){s.dispatchEvent(Rt(`${e?"intro":"outro"}${t}`))}const ge=new Set;let L;function _e(){L={r:0,c:[],p:L}}function ve(){L.r||N(L.c),L=L.p}function T(s,e){s&&s.i&&(ge.delete(s),s.i(e))}function j(s,e,t,n){if(s&&s.o){if(ge.has(s))return;ge.add(s),L.c.push(()=>{ge.delete(s),n&&(t&&s.d(1),n())}),s.o(e)}else n&&n()}const je={duration:0};function mt(s,e,t){const n={direction:"in"};let i=e(s,t,n),o=!1,r,a,l=0;function c(){r&&Se(s,r)}function m(){const{delay:d=0,duration:p=300,easing:f=Ce,tick:S=R,css:g}=i||je;g&&(r=we(s,0,1,p,d,f,g,l++)),S(0,1);const u=ie()+d,_=u+p;a&&a.abort(),o=!0,U(()=>M(s,!0,"start")),a=ke(y=>{if(o){if(y>=_)return S(1,0),M(s,!0,"end"),c(),o=!1;if(y>=u){const v=f((y-u)/p);S(v,1-v)}}return o})}let h=!1;return{start(){h||(h=!0,Se(s),ce(i)?(i=i(n),qe().then(m)):m())},invalidate(){h=!1},end(){o&&(c(),o=!1)}}}function gt(s,e,t){const n={direction:"out"};let i=e(s,t,n),o=!0,r;const a=L;a.r+=1;let l;function c(){const{delay:m=0,duration:h=300,easing:d=Ce,tick:p=R,css:f}=i||je;f&&(r=we(s,1,0,h,m,d,f));const S=ie()+m,g=S+h;U(()=>M(s,!1,"start")),"inert"in s&&(l=s.inert,s.inert=!0),ke(u=>{if(o){if(u>=g)return p(0,1),M(s,!1,"end"),--a.r||N(a.c),!1;if(u>=S){const _=d((u-S)/h);p(1-_,_)}}return o})}return ce(i)?qe().then(()=>{i=i(n),c()}):c(),{end(m){m&&"inert"in s&&(s.inert=l),m&&i.tick&&i.tick(1,0),o&&(r&&Se(s,r),o=!1)}}}function ze(s,e,t,n){let o=e(s,t,{direction:"both"}),r=n?0:1,a=null,l=null,c=null,m;function h(){c&&Se(s,c)}function d(f,S){const g=f.b-r;return S*=Math.abs(g),{a:r,b:f.b,d:g,duration:S,start:f.start,end:f.start+S,group:f.group}}function p(f){const{delay:S=0,duration:g=300,easing:u=Ce,tick:_=R,css:y}=o||je,v={start:ie()+S,b:f};f||(v.group=L,L.r+=1),"inert"in s&&(f?m!==void 0&&(s.inert=m):(m=s.inert,s.inert=!0)),a||l?l=v:(y&&(h(),c=we(s,r,f,g,S,u,y)),f&&_(0,1),a=d(v,g),U(()=>M(s,f,"start")),ke(O=>{if(l&&O>l.start&&(a=d(l,g),l=null,M(s,a.b,"start"),y&&(h(),c=we(s,r,a.b,a.duration,0,u,o.css))),a){if(O>=a.end)_(r=a.b,1-r),M(s,a.b,"end"),l||(a.b?h():--a.group.r||N(a.group.c)),a=null;else if(O>=a.start){const P=O-a.start;r=a.a+a.d*u(P/a.duration),_(r,1-r)}}return!!(a||l)}))}return{run(f){ce(o)?qe().then(()=>{o=o({direction:f?"in":"out"}),p(f)}):p(f)},end(){h(),a=l=null}}}function B(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function bt(s,e){j(s,1,1,()=>{e.delete(s.key)})}function yt(s,e,t,n,i,o,r,a,l,c,m,h){let d=s.length,p=o.length,f=d;const S={};for(;f--;)S[s[f].key]=f;const g=[],u=new Map,_=new Map,y=[];for(f=p;f--;){const k=h(i,o,f),b=t(k);let C=r.get(b);C?n&&y.push(()=>C.p(k,e)):(C=c(b,k),C.c()),u.set(b,g[f]=C),b in S&&_.set(b,Math.abs(f-S[b]))}const v=new Set,O=new Set;function P(k){T(k,1),k.m(a,m),r.set(k.key,k),m=k.first,p--}for(;d&&p;){const k=g[p-1],b=s[d-1],C=k.key,I=b.key;k===b?(m=k.first,d--,p--):u.has(I)?!r.has(C)||v.has(C)?P(k):O.has(I)?d--:_.get(C)>_.get(I)?(O.add(C),P(k)):(v.add(I),d--):(l(b,r),d--)}for(;d--;){const k=s[d];u.has(k.key)||l(k,r)}for(;p;)P(g[p-1]);return N(y),g}function Oe(s){s&&s.c()}function ue(s,e,t){const{fragment:n,after_update:i}=s.$$;n&&n.m(e,t),U(()=>{const o=s.$$.on_mount.map(ot).filter(ce);s.$$.on_destroy?s.$$.on_destroy.push(...o):N(o),s.$$.on_mount=[]}),i.forEach(U)}function he(s,e){const t=s.$$;t.fragment!==null&&(Bt(t.after_update),N(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Mt(s,e){s.$$.dirty[0]===-1&&(V.push(s),Nt(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function de(s,e,t,n,i,o,r=null,a=[-1]){const l=re;se(s);const c=s.$$={fragment:null,ctx:[],props:o,update:R,not_equal:i,bound:Ne(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Ne(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};r&&r(c.root);let m=!1;if(c.ctx=t?t(s,e.props||{},(h,d,...p)=>{const f=p.length?p[0]:d;return c.ctx&&i(c.ctx[h],c.ctx[h]=f)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](f),m&&Mt(s,h)),d}):[],c.update(),m=!0,N(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const h=$t(e.target);c.fragment&&c.fragment.l(h),h.forEach(E)}else c.fragment&&c.fragment.c();e.intro&&T(s.$$.fragment),ue(s,e.target,e.anchor),pt()}se(l)}class fe{constructor(){z(this,"$$");z(this,"$$set")}$destroy(){he(this,1),this.$destroy=R}$on(e,t){if(!ce(t))return R;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Pt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Dt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Dt);const G=[];function wt(s,e=R){let t;const n=new Set;function i(a){if(X(s,a)&&(s=a,t)){const l=!G.length;for(const c of n)c[1](),G.push(c,s);if(l){for(let c=0;c<G.length;c+=2)G[c][0](G[c+1]);G.length=0}}}function o(a){i(a(s))}function r(a,l=R){const c=[a,l];return n.add(c),n.size===1&&(t=e(i,o)||R),a(s),()=>{n.delete(c),n.size===0&&t&&(t(),t=null)}}return{set:i,update:o,subscribe:r}}function Ke(s){return Object.prototype.toString.call(s)==="[object Date]"}function $e(s,e,t,n){if(typeof t=="number"||Ke(t)){const i=n-t,o=(t-e)/(s.dt||1/60),r=s.opts.stiffness*i,a=s.opts.damping*o,l=(r-a)*s.inv_mass,c=(o+l)*s.dt;return Math.abs(c)<s.opts.precision&&Math.abs(i)<s.opts.precision?n:(s.settled=!1,Ke(t)?new Date(t.getTime()+c):t+c)}else{if(Array.isArray(t))return t.map((i,o)=>$e(s,e[o],t[o],n[o]));if(typeof t=="object"){const i={};for(const o in t)i[o]=$e(s,e[o],t[o],n[o]);return i}else throw new Error(`Cannot spring ${typeof t} values`)}}function zt(s,e={}){const t=wt(s),{stiffness:n=.15,damping:i=.8,precision:o=.01}=e;let r,a,l,c=s,m=s,h=1,d=0,p=!1;function f(g,u={}){m=g;const _=l={};return s==null||u.hard||S.stiffness>=1&&S.damping>=1?(p=!0,r=ie(),c=g,t.set(s=m),Promise.resolve()):(u.soft&&(d=1/((u.soft===!0?.5:+u.soft)*60),h=0),a||(r=ie(),p=!1,a=ke(y=>{if(p)return p=!1,a=null,!1;h=Math.min(h+d,1);const v={inv_mass:h,opts:S,settled:!0,dt:(y-r)*60/1e3},O=$e(v,c,s,m);return r=y,c=s,t.set(s=O),v.settled&&(a=null),!v.settled})),new Promise(y=>{a.promise.then(()=>{_===l&&y()})}))}const S={set:f,update:(g,u)=>f(g(m,s),u),subscribe:t.subscribe,stiffness:n,damping:i,precision:o};return S}function Kt(s){return s<.5?4*s*s*s:.5*Math.pow(2*s-2,3)+1}function Wt(s){const e=s-1;return e*e*e+1}function ae(s,{delay:e=0,duration:t=400,easing:n=Ce}={}){const i=+getComputedStyle(s).opacity;return{delay:e,duration:t,easing:n,css:o=>`opacity: ${o*i}`}}function Gt(s,{delay:e=0,duration:t=400,easing:n=Wt,x:i=0,y:o=0,opacity:r=0}={}){const a=getComputedStyle(s),l=+a.opacity,c=a.transform==="none"?"":a.transform,m=l*(1-r),[h,d]=Fe(i),[p,f]=Fe(o);return{delay:e,duration:t,easing:n,css:(S,g)=>`
			transform: ${c} translate(${(1-S)*h}${d}, ${(1-S)*p}${f});
			opacity: ${l-m*g}`}}const Vt={square:{origin:{x:1,y:1},path:[{x:0,y:0},{x:2,y:0},{x:2,y:2},{x:0,y:2}]},triangle:{origin:{x:1,y:1},path:[{x:0,y:0},{x:2,y:0},{x:0,y:2}]}},F=15;function Ht(s){let e,t,n,i,o,r,a,l,c,m;return{c(){e=Z("div"),t=Y("svg"),n=Y("path"),w(n,"d",i=s[7](s[1].path)),w(n,"class","svelte-7o3efv"),w(t,"width","100%"),w(t,"height","100%"),w(t,"viewBox",o=s[8](s[1].origin)),w(t,"preserveAspectRatio","none"),w(t,"fill","currentColor"),w(t,"class","svelte-7o3efv"),w(e,"role","cell"),w(e,"tabindex","-1"),w(e,"class","svelte-7o3efv"),q(e,"--y",`${s[2].y}%`),q(e,"--x",`${s[2].x}%`)},m(h,d){A(h,e,d),oe(e,t),oe(t,n),l=!0,c||(m=[K(window,"mousemove",s[4]),K(window,"touchmove",s[4]),K(window,"mouseup",s[6]),K(window,"touchend",s[6]),K(e,"mousedown",Be(s[5])),K(e,"touchstart",Be(s[5]))],c=!0)},p(h,[d]){s=h,(!l||d&2&&i!==(i=s[7](s[1].path)))&&w(n,"d",i),(!l||d&2&&o!==(o=s[8](s[1].origin)))&&w(t,"viewBox",o),d&4&&q(e,"--y",`${s[2].y}%`),d&4&&q(e,"--x",`${s[2].x}%`)},i(h){l||(U(()=>{l&&(a&&a.end(1),r=mt(e,ae,{duration:100,delay:s[9]}),r.start())}),l=!0)},o(h){r&&r.invalidate(),a=gt(e,Gt,{y:300,duration:2e3,delay:200+s[0]*100,easing:Kt}),l=!1},d(h){h&&E(e),h&&a&&a.end(),c=!1,N(m)}}}function Jt(s,e,t){let n,{id:i}=e,{shapeSkin:o}=e,{boardPoints:r=[]}=e,{blockSize:a=1}=e,l=!1,c={x:0,y:0},{shapePos:m={x:0,y:0}}=e,{shape:h}=e;const d=b=>b/a,p=()=>Math.random()*100,f=zt({x:p(),y:p()},{stiffness:.1,damping:.25});Tt(s,f,b=>t(2,n=b));const S=b=>{let C=b.touches?b.touches[0]:b;return{x:C.clientX,y:C.clientY}},g=b=>{if(!l)return;const C=S(b);l&&f.set({x:d(C.x)*100-c.x,y:d(C.y)*100-c.y})},u=b=>{l=!0;const C=S(b),I=b.touches?30:0;c={x:d(C.x)*100-n.x,y:d(C.y+I)*100-n.y}},_=(b,C)=>r.flat().reduce((ee,Pe)=>{const Ue=Math.sqrt((Pe.x-b)**2+(Pe.y-C)**2);return Ue<ee.distance?{distance:Ue,point:Pe}:ee},{distance:1/0,point:{x:0,y:0}}).point,y=(b,C=!1)=>{const{x:I,y:ee}=_(b.x,b.y);f.set({x:I/F*100,y:ee/F*100}),C&&(h.setPos({x:I+.5,y:ee+.5}),console.log("update",h))},v=()=>{l&&(l=!1,y({x:n.x/100*F,y:n.y/100*F},!0))},O=b=>b.map((C,I)=>`${I===0?"M":"L"} ${C.x} ${C.y}`).join(" ")+" Z",P=(b,C={x:1,y:1})=>`${b.x} ${b.y} ${C.x} ${C.y}`;let k=100*i+500;return Ae(()=>{setTimeout(()=>{y(m)},k)}),s.$$set=b=>{"id"in b&&t(0,i=b.id),"shapeSkin"in b&&t(1,o=b.shapeSkin),"boardPoints"in b&&t(10,r=b.boardPoints),"blockSize"in b&&t(11,a=b.blockSize),"shapePos"in b&&t(12,m=b.shapePos),"shape"in b&&t(13,h=b.shape)},[i,o,n,f,g,u,v,O,P,k,r,a,m,h]}class Qt extends fe{constructor(e){super(),de(this,e,Jt,Ht,X,{id:0,shapeSkin:1,boardPoints:10,blockSize:11,shapePos:12,shape:13})}}class x extends Error{constructor(e){var t,n,i,o;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,x.prototype),e!==null&&typeof e=="object"&&(this.url=typeof e.url=="string"?e.url:"",this.status=typeof e.status=="number"?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,e.response!==null&&typeof e.response=="object"?this.response=e.response:e.data!==null&&typeof e.data=="object"?this.response=e.data:this.response={}),this.originalError||e instanceof x||(this.originalError=e),typeof DOMException<"u"&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=(t=this.response)==null?void 0:t.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":(o=(i=(n=this.originalError)==null?void 0:n.cause)==null?void 0:i.message)!=null&&o.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return{...this}}}const me=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Zt(s,e){const t={};if(typeof s!="string")return t;const n=Object.assign({},e||{}).decode||Yt;let i=0;for(;i<s.length;){const o=s.indexOf("=",i);if(o===-1)break;let r=s.indexOf(";",i);if(r===-1)r=s.length;else if(r<o){i=s.lastIndexOf(";",o-1)+1;continue}const a=s.slice(i,o).trim();if(t[a]===void 0){let l=s.slice(o+1,r).trim();l.charCodeAt(0)===34&&(l=l.slice(1,-1));try{t[a]=n(l)}catch{t[a]=l}}i=r+1}return t}function We(s,e,t){const n=Object.assign({},t||{}),i=n.encode||Xt;if(!me.test(s))throw new TypeError("argument name is invalid");const o=i(e);if(o&&!me.test(o))throw new TypeError("argument val is invalid");let r=s+"="+o;if(n.maxAge!=null){const a=n.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");r+="; Max-Age="+Math.floor(a)}if(n.domain){if(!me.test(n.domain))throw new TypeError("option domain is invalid");r+="; Domain="+n.domain}if(n.path){if(!me.test(n.path))throw new TypeError("option path is invalid");r+="; Path="+n.path}if(n.expires){if(!function(l){return Object.prototype.toString.call(l)==="[object Date]"||l instanceof Date}(n.expires)||isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");r+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":r+="; Priority=Low";break;case"medium":r+="; Priority=Medium";break;case"high":r+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r}function Yt(s){return s.indexOf("%")!==-1?decodeURIComponent(s):s}function Xt(s){return encodeURIComponent(s)}let St;function Q(s){if(s)try{const e=decodeURIComponent(St(s.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}function _t(s,e=0){let t=Q(s);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}St=typeof atob=="function"?atob:s=>{let e=String(s).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,n,i=0,o=0,r="";n=e.charAt(o++);~n&&(t=i%4?64*t+n:n,i++%4)?r+=String.fromCharCode(255&t>>(-2*i&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return r};const Ge="pb_auth";class en{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!_t(this.token)}get isAdmin(){return Q(this.token).type==="admin"}get isAuthRecord(){return Q(this.token).type==="authRecord"}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=Ge){const n=Zt(e||"")[t]||"";let i={};try{i=JSON.parse(n),(typeof i===null||typeof i!="object"||Array.isArray(i))&&(i={})}catch{}this.save(i.token||"",i.model||null)}exportToCookie(e,t=Ge){var l,c;const n={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},i=Q(this.token);n.expires=i!=null&&i.exp?new Date(1e3*i.exp):new Date("1970-01-01"),e=Object.assign({},n,e);const o={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null};let r=We(t,JSON.stringify(o),e);const a=typeof Blob<"u"?new Blob([r]).size:r.length;if(o.model&&a>4096){o.model={id:(l=o==null?void 0:o.model)==null?void 0:l.id,email:(c=o==null?void 0:o.model)==null?void 0:c.email};const m=["collectionId","username","verified"];for(const h in this.model)m.includes(h)&&(o.model[h]=this.model[h]);r=We(t,JSON.stringify(o),e)}return r}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.model),()=>{for(let n=this._onChangeCallbacks.length-1;n>=0;n--)if(this._onChangeCallbacks[n]==e)return delete this._onChangeCallbacks[n],void this._onChangeCallbacks.splice(n,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.model)}}class tn extends en{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(e,t){this._storageSet(this.storageKey,{token:e,model:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}}return this.storageFallback[e]}_storageSet(e,t){if(typeof window<"u"&&(window!=null&&window.localStorage)){let n=t;typeof t!="string"&&(n=JSON.stringify(t)),window.localStorage.setItem(e,n)}else this.storageFallback[e]=t}_storageRemove(e){var t;typeof window<"u"&&(window!=null&&window.localStorage)&&((t=window.localStorage)==null||t.removeItem(e)),delete this.storageFallback[e]}_bindStorageEvent(){typeof window<"u"&&(window!=null&&window.localStorage)&&window.addEventListener&&window.addEventListener("storage",e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.model||null)})}}class D{constructor(e){this.client=e}}class nn extends D{async getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}async update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}async testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then(()=>!0)}async testEmail(e,t,n){return n=Object.assign({method:"POST",body:{email:e,template:t}},n),this.client.send("/api/settings/test/email",n).then(()=>!0)}async generateAppleClientSecret(e,t,n,i,o,r){return r=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:n,privateKey:i,duration:o}},r),this.client.send("/api/settings/apple/generate-client-secret",r)}}class Le extends D{decode(e){return e}async getFullList(e,t){if(typeof e=="number")return this._getFullList(e,t);let n=500;return(t=Object.assign({},e,t)).batch&&(n=t.batch,delete t.batch),this._getFullList(n,t)}async getList(e=1,t=30,n){return(n=Object.assign({method:"GET"},n)).query=Object.assign({page:e,perPage:t},n.query),this.client.send(this.baseCrudPath,n).then(i=>{var o;return i.items=((o=i.items)==null?void 0:o.map(r=>this.decode(r)))||[],i})}async getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then(n=>{var i;if(!((i=n==null?void 0:n.items)!=null&&i.length))throw new x({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return n.items[0]})}async getOne(e,t){if(!e)throw new x({url:this.client.buildUrl(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(n=>this.decode(n))}async create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then(n=>this.decode(n))}async update(e,t,n){return n=Object.assign({method:"PATCH",body:t},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),n).then(i=>this.decode(i))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(()=>!0)}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let n=[],i=async o=>this.getList(o,e||500,t).then(r=>{const a=r.items;return n=n.concat(a),a.length==r.perPage?i(o+1):n});return i(1)}}function $(s,e,t,n){const i=n!==void 0;return i||t!==void 0?i?(console.warn(s),e.body=Object.assign({},e.body,t),e.query=Object.assign({},e.query,n),e):Object.assign(e,t):e}function Ee(s){var e;(e=s._resetAutoRefresh)==null||e.call(s)}class sn extends Le{get baseCrudPath(){return"/api/admins"}async update(e,t,n){return super.update(e,t,n).then(i=>{var o,r;return((o=this.client.authStore.model)==null?void 0:o.id)===i.id&&((r=this.client.authStore.model)==null?void 0:r.collectionId)===void 0&&this.client.authStore.save(this.client.authStore.token,i),i})}async delete(e,t){return super.delete(e,t).then(n=>{var i,o;return n&&((i=this.client.authStore.model)==null?void 0:i.id)===e&&((o=this.client.authStore.model)==null?void 0:o.collectionId)===void 0&&this.client.authStore.clear(),n})}authResponse(e){const t=this.decode((e==null?void 0:e.admin)||{});return e!=null&&e.token&&(e!=null&&e.admin)&&this.client.authStore.save(e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:t})}async authWithPassword(e,t,n,i){let o={method:"POST",body:{identity:e,password:t}};o=$("This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).",o,n,i);const r=o.autoRefreshThreshold;delete o.autoRefreshThreshold,o.autoRefresh||Ee(this.client);let a=await this.client.send(this.baseCrudPath+"/auth-with-password",o);return a=this.authResponse(a),r&&function(c,m,h,d){Ee(c);const p=c.beforeSend,f=c.authStore.model,S=c.authStore.onChange((g,u)=>{(!g||(u==null?void 0:u.id)!=(f==null?void 0:f.id)||(u!=null&&u.collectionId||f!=null&&f.collectionId)&&(u==null?void 0:u.collectionId)!=(f==null?void 0:f.collectionId))&&Ee(c)});c._resetAutoRefresh=function(){S(),c.beforeSend=p,delete c._resetAutoRefresh},c.beforeSend=async(g,u)=>{var O;const _=c.authStore.token;if((O=u.query)!=null&&O.autoRefresh)return p?p(g,u):{url:g,sendOptions:u};let y=c.authStore.isValid;if(y&&_t(c.authStore.token,m))try{await h()}catch{y=!1}y||await d();const v=u.headers||{};for(let P in v)if(P.toLowerCase()=="authorization"&&_==v[P]&&c.authStore.token){v[P]=c.authStore.token;break}return u.headers=v,p?p(g,u):{url:g,sendOptions:u}}}(this.client,r,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},o))),a}async authRefresh(e,t){let n={method:"POST"};return n=$("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",n,e,t),this.client.send(this.baseCrudPath+"/auth-refresh",n).then(this.authResponse.bind(this))}async requestPasswordReset(e,t,n){let i={method:"POST",body:{email:e}};return i=$("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",i,t,n),this.client.send(this.baseCrudPath+"/request-password-reset",i).then(()=>!0)}async confirmPasswordReset(e,t,n,i,o){let r={method:"POST",body:{token:e,password:t,passwordConfirm:n}};return r=$("This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).",r,i,o),this.client.send(this.baseCrudPath+"/confirm-password-reset",r).then(()=>!0)}}const on=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function vt(s){if(s){s.query=s.query||{};for(let e in s)on.includes(e)||(s.query[e]=s[e],delete s[e])}}class Ct extends D{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,n){var r;if(!e)throw new Error("topic must be set.");let i=e;if(n){vt(n);const a="options="+encodeURIComponent(JSON.stringify({query:n.query,headers:n.headers}));i+=(i.includes("?")?"&":"?")+a}const o=function(a){const l=a;let c;try{c=JSON.parse(l==null?void 0:l.data)}catch{}t(c||{})};return this.subscriptions[i]||(this.subscriptions[i]=[]),this.subscriptions[i].push(o),this.isConnected?this.subscriptions[i].length===1?await this.submitSubscriptions():(r=this.eventSource)==null||r.addEventListener(i,o):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,o)}async unsubscribe(e){var n;let t=!1;if(e){const i=this.getSubscriptionsByTopic(e);for(let o in i)if(this.hasSubscriptionListeners(o)){for(let r of this.subscriptions[o])(n=this.eventSource)==null||n.removeEventListener(o,r);delete this.subscriptions[o],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){var n;let t=!1;for(let i in this.subscriptions)if((i+"?").startsWith(e)){t=!0;for(let o of this.subscriptions[i])(n=this.eventSource)==null||n.removeEventListener(i,o);delete this.subscriptions[i]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){var o;let n=!1;const i=this.getSubscriptionsByTopic(e);for(let r in i){if(!Array.isArray(this.subscriptions[r])||!this.subscriptions[r].length)continue;let a=!1;for(let l=this.subscriptions[r].length-1;l>=0;l--)this.subscriptions[r][l]===t&&(a=!0,delete this.subscriptions[r][l],this.subscriptions[r].splice(l,1),(o=this.eventSource)==null||o.removeEventListener(r,t));a&&(this.subscriptions[r].length||delete this.subscriptions[r],n||this.hasSubscriptionListeners(r)||(n=!0))}this.hasSubscriptionListeners()?n&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){var t,n;if(this.subscriptions=this.subscriptions||{},e)return!!((t=this.subscriptions[e])!=null&&t.length);for(let i in this.subscriptions)if((n=this.subscriptions[i])!=null&&n.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch(e=>{if(!(e!=null&&e.isAbort))throw e})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes("?")?e:e+"?";for(let n in this.subscriptions)(n+"?").startsWith(e)&&(t[n]=this.subscriptions[n]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",e=>{const t=e;this.clientId=t==null?void 0:t.lastEventId,this.submitSubscriptions().then(async()=>{let n=3;for(;this.hasUnsentSubscriptions()&&n>0;)n--,await this.submitSubscriptions()}).then(()=>{for(let i of this.pendingConnects)i.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const n=this.getSubscriptionsByTopic("PB_CONNECT");for(let i in n)for(let o of n[i])o(e)}).catch(n=>{this.clientId="",this.connectErrorHandler(n)})})}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let n of this.pendingConnects)n.reject(new x(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},t)}disconnect(e=!1){var t;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(t=this.eventSource)==null||t.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let n of this.pendingConnects)n.resolve();this.pendingConnects=[]}}}class rn extends Le{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}async subscribe(e,t,n){if(!e)throw new Error("Missing topic.");if(!t)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t,n)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(typeof e=="number")return super.getFullList(e,t);const n=Object.assign({},e,t);return super.getFullList(n)}async getList(e=1,t=30,n){return super.getList(e,t,n)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,n){return super.update(e,t,n).then(i=>{var o,r,a;return((o=this.client.authStore.model)==null?void 0:o.id)!==(i==null?void 0:i.id)||((r=this.client.authStore.model)==null?void 0:r.collectionId)!==this.collectionIdOrName&&((a=this.client.authStore.model)==null?void 0:a.collectionName)!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,i),i})}async delete(e,t){return super.delete(e,t).then(n=>{var i,o,r;return!n||((i=this.client.authStore.model)==null?void 0:i.id)!==e||((o=this.client.authStore.model)==null?void 0:o.collectionId)!==this.collectionIdOrName&&((r=this.client.authStore.model)==null?void 0:r.collectionName)!==this.collectionIdOrName||this.client.authStore.clear(),n})}authResponse(e){const t=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:t})}async listAuthMethods(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e).then(t=>Object.assign({},t,{usernamePassword:!!(t!=null&&t.usernamePassword),emailPassword:!!(t!=null&&t.emailPassword),authProviders:Array.isArray(t==null?void 0:t.authProviders)?t==null?void 0:t.authProviders:[]}))}async authWithPassword(e,t,n,i){let o={method:"POST",body:{identity:e,password:t}};return o=$("This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).",o,n,i),this.client.send(this.baseCollectionPath+"/auth-with-password",o).then(r=>this.authResponse(r))}async authWithOAuth2Code(e,t,n,i,o,r,a){let l={method:"POST",body:{provider:e,code:t,codeVerifier:n,redirectUrl:i,createData:o}};return l=$("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).",l,r,a),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",l).then(c=>this.authResponse(c))}async authWithOAuth2(...e){if(e.length>1||typeof(e==null?void 0:e[0])=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{});const t=(e==null?void 0:e[0])||{},n=(await this.listAuthMethods()).authProviders.find(l=>l.name===t.provider);if(!n)throw new x(new Error(`Missing or invalid provider "${t.provider}".`));const i=this.client.buildUrl("/api/oauth2-redirect"),o=new Ct(this.client);let r=null;function a(){r==null||r.close(),o.unsubscribe()}return t.urlCallback||(r=Ve(void 0)),new Promise(async(l,c)=>{var m;try{await o.subscribe("@oauth2",async f=>{const S=o.clientId;try{if(!f.state||S!==f.state)throw new Error("State parameters don't match.");if(f.error||!f.code)throw new Error("OAuth2 redirect error or missing code: "+f.error);const g=Object.assign({},t);delete g.provider,delete g.scopes,delete g.createData,delete g.urlCallback;const u=await this.authWithOAuth2Code(n.name,f.code,n.codeVerifier,i,t.createData,g);l(u)}catch(g){c(new x(g))}a()});const h={state:o.clientId};(m=t.scopes)!=null&&m.length&&(h.scope=t.scopes.join(" "));const d=this._replaceQueryParams(n.authUrl+i,h);await(t.urlCallback||function(f){r?r.location.href=f:r=Ve(f)})(d)}catch(h){a(),c(new x(h))}})}async authRefresh(e,t){let n={method:"POST"};return n=$("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",n,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",n).then(i=>this.authResponse(i))}async requestPasswordReset(e,t,n){let i={method:"POST",body:{email:e}};return i=$("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",i,t,n),this.client.send(this.baseCollectionPath+"/request-password-reset",i).then(()=>!0)}async confirmPasswordReset(e,t,n,i,o){let r={method:"POST",body:{token:e,password:t,passwordConfirm:n}};return r=$("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",r,i,o),this.client.send(this.baseCollectionPath+"/confirm-password-reset",r).then(()=>!0)}async requestVerification(e,t,n){let i={method:"POST",body:{email:e}};return i=$("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",i,t,n),this.client.send(this.baseCollectionPath+"/request-verification",i).then(()=>!0)}async confirmVerification(e,t,n){let i={method:"POST",body:{token:e}};return i=$("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",i,t,n),this.client.send(this.baseCollectionPath+"/confirm-verification",i).then(()=>{const o=Q(e),r=this.client.authStore.model;return r&&!r.verified&&r.id===o.id&&r.collectionId===o.collectionId&&(r.verified=!0,this.client.authStore.save(this.client.authStore.token,r)),!0})}async requestEmailChange(e,t,n){let i={method:"POST",body:{newEmail:e}};return i=$("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",i,t,n),this.client.send(this.baseCollectionPath+"/request-email-change",i).then(()=>!0)}async confirmEmailChange(e,t,n,i){let o={method:"POST",body:{token:e,password:t}};return o=$("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",o,n,i),this.client.send(this.baseCollectionPath+"/confirm-email-change",o).then(()=>{const r=Q(e),a=this.client.authStore.model;return a&&a.id===r.id&&a.collectionId===r.collectionId&&this.client.authStore.clear(),!0})}async listExternalAuths(e,t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",t)}async unlinkExternalAuth(e,t,n){return n=Object.assign({method:"DELETE"},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(t),n).then(()=>!0)}_replaceQueryParams(e,t={}){let n=e,i="";e.indexOf("?")>=0&&(n=e.substring(0,e.indexOf("?")),i=e.substring(e.indexOf("?")+1));const o={},r=i.split("&");for(const a of r){if(a=="")continue;const l=a.split("=");o[decodeURIComponent(l[0].replace(/\+/g," "))]=decodeURIComponent((l[1]||"").replace(/\+/g," "))}for(let a in t)t.hasOwnProperty(a)&&(t[a]==null?delete o[a]:o[a]=t[a]);i="";for(let a in o)o.hasOwnProperty(a)&&(i!=""&&(i+="&"),i+=encodeURIComponent(a.replace(/%20/g,"+"))+"="+encodeURIComponent(o[a].replace(/%20/g,"+")));return i!=""?n+"?"+i:n}}function Ve(s){if(typeof window>"u"||!(window!=null&&window.open))throw new x(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,t=768,n=window.innerWidth,i=window.innerHeight;e=e>n?n:e,t=t>i?i:t;let o=n/2-e/2,r=i/2-t/2;return window.open(s,"popup_window","width="+e+",height="+t+",top="+r+",left="+o+",resizable,menubar=no")}class an extends Le{get baseCrudPath(){return"/api/collections"}async import(e,t=!1,n){return n=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},n),this.client.send(this.baseCrudPath+"/import",n).then(()=>!0)}}class cn extends D{async getList(e=1,t=30,n){return(n=Object.assign({method:"GET"},n)).query=Object.assign({page:e,perPage:t},n.query),this.client.send("/api/logs",n)}async getOne(e,t){if(!e)throw new x({url:this.client.buildUrl("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/stats",e)}}class ln extends D{async check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class un extends D{getUrl(e,t,n={}){if(!t||!(e!=null&&e.id)||!(e!=null&&e.collectionId)&&!(e!=null&&e.collectionName))return"";const i=[];i.push("api"),i.push("files"),i.push(encodeURIComponent(e.collectionId||e.collectionName)),i.push(encodeURIComponent(e.id)),i.push(encodeURIComponent(t));let o=this.client.buildUrl(i.join("/"));if(Object.keys(n).length){n.download===!1&&delete n.download;const r=new URLSearchParams(n);o+=(o.includes("?")?"&":"?")+r}return o}async getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then(t=>(t==null?void 0:t.token)||"")}}class hn extends D{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}async create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then(()=>!0)}async upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then(()=>!0)}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then(()=>!0)}async restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then(()=>!0)}getDownloadUrl(e,t){return this.client.buildUrl(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class dn{constructor(e="/",t,n="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=n,this.authStore=t||new tn,this.admins=new sn(this),this.collections=new an(this),this.files=new un(this),this.logs=new cn(this),this.settings=new nn(this),this.realtime=new Ct(this),this.health=new ln(this),this.backups=new hn(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new rn(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let n in t){let i=t[n];switch(typeof i){case"boolean":case"number":i=""+i;break;case"string":i="'"+i.replace(/'/g,"\\'")+"'";break;default:i=i===null?"null":i instanceof Date?"'"+i.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(i).replace(/'/g,"\\'")+"'"}e=e.replaceAll("{:"+n+"}",i)}return e}getFileUrl(e,t,n={}){return this.files.getUrl(e,t,n)}buildUrl(e){var n;let t=this.baseUrl;return typeof window>"u"||!window.location||t.startsWith("https://")||t.startsWith("http://")||(t=(n=window.location.origin)!=null&&n.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(t+=window.location.pathname||"/",t+=t.endsWith("/")?"":"/"),t+=this.baseUrl),e&&(t+=t.endsWith("/")?"":"/",t+=e.startsWith("/")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let n=this.buildUrl(e);if(this.beforeSend){const i=Object.assign({},await this.beforeSend(n,t));i.url!==void 0||i.options!==void 0?(n=i.url||n,t=i.options||t):Object.keys(i).length&&(t=i,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(t.query!==void 0){const i=this.serializeQueryParams(t.query);i&&(n+=(n.includes("?")?"&":"?")+i),delete t.query}return this.getHeader(t.headers,"Content-Type")=="application/json"&&t.body&&typeof t.body!="string"&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(n,t).then(async i=>{let o={};try{o=await i.json()}catch{}if(this.afterSend&&(o=await this.afterSend(i,o)),i.status>=400)throw new x({url:i.url,status:i.status,data:o});return o}).catch(i=>{throw new x(i)})}initSendOptions(e,t){if((t=Object.assign({method:"GET"},t)).body=this.convertToFormDataIfNeeded(t.body),vt(t),t.query=Object.assign({},t.params,t.query),t.requestKey===void 0&&(t.$autoCancel===!1||t.query.$autoCancel===!1?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,this.getHeader(t.headers,"Content-Type")!==null||this.isFormData(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),this.getHeader(t.headers,"Accept-Language")===null&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(t.headers,"Authorization")===null&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&t.requestKey!==null){const n=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(n);const i=new AbortController;this.cancelControllers[n]=i,t.signal=i.signal}return t}convertToFormDataIfNeeded(e){if(typeof FormData>"u"||e===void 0||typeof e!="object"||e===null||this.isFormData(e)||!this.hasBlobField(e))return e;const t=new FormData;for(const n in e){const i=e[n];if(typeof i!="object"||this.hasBlobField({data:i})){const o=Array.isArray(i)?i:[i];for(let r of o)t.append(n,r)}else{let o={};o[n]=i,t.append("@jsonPayload",JSON.stringify(o))}}return t}hasBlobField(e){for(const t in e){const n=Array.isArray(e[t])?e[t]:[e[t]];for(const i of n)if(typeof Blob<"u"&&i instanceof Blob||typeof File<"u"&&i instanceof File)return!0}return!1}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let n in e)if(n.toLowerCase()==t)return e[n];return null}isFormData(e){return e&&(e.constructor.name==="FormData"||typeof FormData<"u"&&e instanceof FormData)}serializeQueryParams(e){const t=[];for(const n in e){if(e[n]===null)continue;const i=e[n],o=encodeURIComponent(n);if(Array.isArray(i))for(const r of i)t.push(o+"="+encodeURIComponent(r));else i instanceof Date?t.push(o+"="+encodeURIComponent(i.toISOString())):typeof i!==null&&typeof i=="object"?t.push(o+"="+encodeURIComponent(JSON.stringify(i))):t.push(o+"="+encodeURIComponent(i))}return t.join("&")}}function He(s,e,t){const n=s.slice();return n[1]=e[t],n}function Je(s,e,t){const n=s.slice();return n[4]=e[t],n}function Qe(s){let e,t,n;return{c(){e=Y("circle"),w(e,"r",".1"),w(e,"cx",t=s[4].x),w(e,"cy",n=s[4].y)},m(i,o){A(i,e,o)},p(i,o){o&1&&t!==(t=i[4].x)&&w(e,"cx",t),o&1&&n!==(n=i[4].y)&&w(e,"cy",n)},d(i){i&&E(e)}}}function Ze(s){let e,t=B(s[1]),n=[];for(let i=0;i<t.length;i+=1)n[i]=Qe(Je(s,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Re()},m(i,o){for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(i,o);A(i,e,o)},p(i,o){if(o&1){t=B(i[1]);let r;for(r=0;r<t.length;r+=1){const a=Je(i,t,r);n[r]?n[r].p(a,o):(n[r]=Qe(a),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(i){i&&E(e),ht(n,i)}}}function fn(s){let e,t,n,i,o=B(s[0].boardPoints),r=[];for(let a=0;a<o.length;a+=1)r[a]=Ze(He(s,o,a));return{c(){e=Y("svg");for(let a=0;a<r.length;a+=1)r[a].c();w(e,"width","100%"),w(e,"height","100%"),w(e,"viewBox",t=`0 0 ${s[0].boardSize} ${s[0].boardSize}`),w(e,"xmlns","http://www.w3.org/2000/svg"),w(e,"fill","black"),w(e,"class","svelte-1o5z4u5")},m(a,l){A(a,e,l);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);i=!0},p(a,[l]){if(l&1){o=B(a[0].boardPoints);let c;for(c=0;c<o.length;c+=1){const m=He(a,o,c);r[c]?r[c].p(m,l):(r[c]=Ze(m),r[c].c(),r[c].m(e,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=o.length}(!i||l&1&&t!==(t=`0 0 ${a[0].boardSize} ${a[0].boardSize}`))&&w(e,"viewBox",t)},i(a){i||(n&&n.end(1),i=!0)},o(a){a&&(n=gt(e,ae,{})),i=!1},d(a){a&&E(e),ht(r,a),a&&n&&n.end()}}}function pn(s,e,t){let{board:n}=e;return s.$$set=i=>{"board"in i&&t(0,n=i.board)},[n]}class mn extends fe{constructor(e){super(),de(this,e,pn,fn,X,{board:0})}}function gn(s){let e,t,n,i,o,r,a;return{c(){e=Z("div"),t=Y("svg"),n=Y("path"),w(n,"d",i=s[2](s[0].path)),w(n,"class","svelte-7lswfc"),w(t,"width","100%"),w(t,"height","100%"),w(t,"viewBox",o=s[3](s[0].origin)),w(t,"preserveAspectRatio","none"),w(t,"fill","currentColor"),w(t,"class","svelte-7lswfc"),w(e,"role","cell"),w(e,"tabindex","-1"),w(e,"class","svelte-7lswfc"),q(e,"--y",`${s[1].x}%`),q(e,"--x",`${s[1].y}%`),q(e,"--board-size",F/ne)},m(l,c){A(l,e,c),oe(e,t),oe(t,n),a=!0},p(l,[c]){s=l,(!a||c&1&&i!==(i=s[2](s[0].path)))&&w(n,"d",i),(!a||c&1&&o!==(o=s[3](s[0].origin)))&&w(t,"viewBox",o),c&2&&q(e,"--y",`${s[1].x}%`),c&2&&q(e,"--x",`${s[1].y}%`)},i(l){a||(U(()=>{a&&(r||(r=ze(e,ae,{duration:100,delay:Ye},!0)),r.run(1))}),a=!0)},o(l){r||(r=ze(e,ae,{duration:100,delay:Ye},!1)),r.run(0),a=!1},d(l){l&&E(e),l&&r&&r.end()}}}let ne=2.5,Ye=500;function bn(s,e,t){let n,{shapeSkin:i}=e,{shapePos:o={x:0,y:0}}=e;const r=l=>l.map((c,m)=>`${m===0?"M":"L"} ${c.x} ${c.y}`).join(" ")+" Z",a=(l,c={x:1,y:1})=>`${l.x} ${l.y} ${c.x} ${c.y}`;return s.$$set=l=>{"shapeSkin"in l&&t(0,i=l.shapeSkin),"shapePos"in l&&t(4,o=l.shapePos)},s.$$.update=()=>{s.$$.dirty&16&&t(1,n={x:(o.y-.5)*100*ne/F-50*(ne-1),y:(o.x-.5)*100*ne/F-50*(ne-1)})},[i,n,r,a,o]}class yn extends fe{constructor(e){super(),de(this,e,bn,gn,X,{shapeSkin:0,shapePos:4})}}function Xe(s,e,t){const n=s.slice();return n[11]=e[t],n}function et(s,e,t){const n=s.slice();return n[11]=e[t],n[15]=t,n}function tt(s,e){let t,n,i;return n=new yn({props:{shapePos:e[11].pos,shapeSkin:e[11].loadSkin()}}),{key:s,first:null,c(){t=Re(),Oe(n.$$.fragment),this.first=t},m(o,r){A(o,t,r),ue(n,o,r),i=!0},p(o,r){e=o;const a={};r&4&&(a.shapePos=e[11].pos),r&4&&(a.shapeSkin=e[11].loadSkin()),n.$set(a)},i(o){i||(T(n.$$.fragment,o),i=!0)},o(o){j(n.$$.fragment,o),i=!1},d(o){o&&E(t),he(n,o)}}}function nt(s){let e=[],t=new Map,n,i,o,r=B(s[5]);const a=l=>l[11].id;for(let l=0;l<r.length;l+=1){let c=Xe(s,r,l),m=a(c);t.set(m,e[l]=st(m,c))}return i=new mn({props:{board:s[6]}}),{c(){for(let l=0;l<e.length;l+=1)e[l].c();n=ft(),Oe(i.$$.fragment)},m(l,c){for(let m=0;m<e.length;m+=1)e[m]&&e[m].m(l,c);A(l,n,c),ue(i,l,c),o=!0},p(l,c){c&112&&(r=B(l[5]),_e(),e=yt(e,c,a,1,l,r,t,n.parentNode,bt,st,n,Xe),ve())},i(l){if(!o){for(let c=0;c<r.length;c+=1)T(e[c]);T(i.$$.fragment,l),o=!0}},o(l){for(let c=0;c<e.length;c+=1)j(e[c]);j(i.$$.fragment,l),o=!1},d(l){l&&E(n);for(let c=0;c<e.length;c+=1)e[c].d(l);he(i,l)}}}function st(s,e){let t,n,i;return n=new Qt({props:{id:e[11].id,shapePos:e[11].pos,boardPoints:e[6].boardPoints,blockSize:e[4],shapeSkin:e[11].loadSkin(),shape:e[11]}}),{key:s,first:null,c(){t=Re(),Oe(n.$$.fragment),this.first=t},m(o,r){A(o,t,r),ue(n,o,r),i=!0},p(o,r){e=o;const a={};r&32&&(a.id=e[11].id),r&32&&(a.shapePos=e[11].pos),r&16&&(a.blockSize=e[4]),r&32&&(a.shapeSkin=e[11].loadSkin()),r&32&&(a.shape=e[11]),n.$set(a)},i(o){i||(T(n.$$.fragment,o),i=!0)},o(o){j(n.$$.fragment,o),i=!1},d(o){o&&E(t),he(n,o)}}}function wn(s){let e,t=[],n=new Map,i,o,r,a,l,c=B(s[2]);const m=d=>d[15];for(let d=0;d<c.length;d+=1){let p=et(s,c,d),f=m(p);n.set(f,t[d]=tt(f,p))}let h=!s[1]&&nt(s);return{c(){e=Z("div");for(let d=0;d<t.length;d+=1)t[d].c();i=ft(),o=Z("div"),h&&h.c(),w(e,"class","preview svelte-1n31ozh"),pe(e,"completed",s[1]),q(e,"--board-size",s[6].boardSize),w(o,"class","board svelte-1n31ozh"),pe(o,"completed",s[1]),q(o,"--board-size",s[6].boardSize)},m(d,p){A(d,e,p);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);A(d,i,p),A(d,o,p),h&&h.m(o,null),r=xt.observe(o,s[7].bind(o)),l=!0},p(d,[p]){p&4&&(c=B(d[2]),_e(),t=yt(t,p,m,1,d,c,n,e,bt,tt,null,et),ve()),(!l||p&2)&&pe(e,"completed",d[1]),d[1]?h&&(_e(),j(h,1,1,()=>{h=null}),ve()):h?(h.p(d,p),p&2&&T(h,1)):(h=nt(d),h.c(),T(h,1),h.m(o,null)),(!l||p&2)&&pe(o,"completed",d[1])},i(d){if(!l){for(let p=0;p<c.length;p+=1)T(t[p]);T(h),a||U(()=>{a=mt(o,ae,{duration:500}),a.start()}),l=!0}},o(d){for(let p=0;p<t.length;p+=1)j(t[p]);j(h),l=!1},d(d){d&&(E(e),E(i),E(o));for(let p=0;p<t.length;p+=1)t[p].d();h&&h.d(),r()}}}function Sn(s,e,t){let n,i,o,r=R,a=()=>(r(),r=rt(i,g=>t(5,o=g)),i);s.$$.on_destroy.push(()=>r());const l=new dn("https://db.cubiq.dev/");let c=!1;class m{constructor(u,_,y,v){this.id=_,this.pos=y||{x:8,y:8},this.skin=v||"square",this.boardRef=u}setPos(u){this.pos=u,this.boardRef.checkBoardState()}loadSkin(){return Vt[this.skin]}}class h{constructor(u){this.boardSize=u||15,this.boardShapes$=wt([]),this.boardPoints=this.generateBoardSnapPoints(this.boardSize),this.currentLevel=1,this.final=[]}addShape(u,_){this.boardShapes$.update(y=>{const v=new m(this,y.length+1,u,_);return[...y,v]})}setupLevel(u,_){this.currentLevel=_+1,this.boardShapes$.set(u.start.map((y,v)=>new m(this,v,y.pos,y.skin))),this.final=u.final.map((y,v)=>new m(null,v,y.pos,y.skin))}findCenterFromShapes(u){const _=u.reduce((y,v)=>({x:y.x+v.pos.x,y:y.y+v.pos.y}),{x:0,y:0});return{x:_.x/u.length,y:_.y/u.length}}relativeToCenter(u,_){return{x:u.x-_.x,y:u.y-_.y}}checkBoardState(){this.boardShapes$.update(u=>(t(1,c=this.checkLevelCompletion(u)),u))}areCoordsSame(u,_){return u.x===_.x&&u.y===_.y}checkLevelCompletion(u){const _=this.final,y=this.findCenterFromShapes(u),v=this.findCenterFromShapes(_),O=_.map((P,k)=>({skin:P.skin,pos:this.relativeToCenter(P.pos,v)}));return u.every((P,k)=>{const b=this.relativeToCenter(P.pos,y);return O.some((C,I)=>C.skin===P.skin&&this.areCoordsSame(b,C.pos))})}generateBoardSnapPoints(u){const _=(y,v,O)=>Math.sqrt(y**2+v**2)<=O;return Array(u).fill().map((y,v)=>Array(u).fill().map((O,P)=>({x:v+.5,y:P+.5})).filter((O,P)=>_(O.x/u-.5,O.y/u-.5,.5)))}}let d;const p=new h(F);let f=[];Ae(async()=>{l.collection("levels").getFirstListItem("levelId=0").then(u=>{console.log(u),p.setupLevel(u,0),t(2,f=p.final)}).catch(u=>{console.error(u)})});function S(){var g;d=(g=le.entries.get(this))==null?void 0:g.borderBoxSize,t(0,d)}return s.$$.update=()=>{s.$$.dirty&1&&t(4,n=d?d[0].blockSize:0)},a(t(3,i=p.boardShapes$)),[d,c,f,i,n,o,p,S]}class _n extends fe{constructor(e){super(),de(this,e,Sn,wn,X,{})}}function it(s){let e,t;return e=new _n({}),{c(){Oe(e.$$.fragment)},m(n,i){ue(e,n,i),t=!0},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){he(e,n)}}}function vn(s){let e,t,n=s[0]&&it();return{c(){e=Z("main"),n&&n.c(),w(e,"class","svelte-s3li9q")},m(i,o){A(i,e,o),n&&n.m(e,null),t=!0},p(i,[o]){i[0]?n?o&1&&T(n,1):(n=it(),n.c(),T(n,1),n.m(e,null)):n&&(_e(),j(n,1,1,()=>{n=null}),ve())},i(i){t||(T(n),t=!0)},o(i){j(n),t=!1},d(i){i&&E(e),n&&n.d()}}}function Cn(s,e,t){let n=!1;return Ae(()=>{setTimeout(()=>{t(0,n=!0)},300)}),[n]}class kn extends fe{constructor(e){super(),de(this,e,Cn,vn,X,{})}}new kn({target:document.getElementById("app")});
