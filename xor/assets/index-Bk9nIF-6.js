var Ue=Object.defineProperty;var He=(e,t,n)=>t in e?Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var j=(e,t,n)=>(He(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function M(){}const Ee=e=>e;function Oe(e){return e()}function me(){return Object.create(null)}function A(e){e.forEach(Oe)}function fe(e){return typeof e=="function"}function te(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ke(e){return Object.keys(e).length===0}function Ve(e,...t){if(e==null){for(const s of t)s(void 0);return M}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Xe(e,t,n){e.$$.on_destroy.push(Ve(t,n))}const Ae=typeof window<"u";let re=Ae?()=>window.performance.now():()=>Date.now(),ue=Ae?e=>requestAnimationFrame(e):M;const I=new Set;function Ne(e){I.forEach(t=>{t.c(e)||(I.delete(t),t.f())}),I.size!==0&&ue(Ne)}function Ce(e){let t;return I.size===0&&ue(Ne),{promise:new Promise(n=>{I.add(t={c:e,f:n})}),abort(){I.delete(t)}}}const je=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;class X{constructor(t){j(this,"_listeners","WeakMap"in je?new WeakMap:void 0);j(this,"_observer");j(this,"options");this.options=t}observe(t,n){return this._listeners.set(t,n),this._getObserver().observe(t,this.options),()=>{this._listeners.delete(t),this._observer.unobserve(t)}}_getObserver(){return this._observer??(this._observer=new ResizeObserver(t=>{var n;for(const s of t)X.entries.set(s.target,s),(n=this._listeners.get(s.target))==null||n(s)}))}}X.entries="WeakMap"in je?new WeakMap:void 0;function oe(e,t){e.appendChild(t)}function Le(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Ye(e){const t=ne("style");return t.textContent="/* empty */",Ze(Le(e),t),t.sheet}function Ze(e,t){return oe(e.head||e,t),t.sheet}function U(e,t,n){e.insertBefore(t,n||null)}function N(e){e.parentNode&&e.parentNode.removeChild(e)}function Te(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function ne(e){return document.createElement(e)}function De(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Re(e){return document.createTextNode(e)}function Je(){return Re(" ")}function Be(){return Re("")}function L(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function ge(e){return function(t){return t.preventDefault(),e.call(this,t)}}function v(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Qe(e){return Array.from(e.childNodes)}function T(e,t,n,s){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}const et=new X({box:"border-box"});function tt(e,t,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:s})}const Z=new Map;let J=0;function nt(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function st(e,t){const n={stylesheet:Ye(t),rules:{}};return Z.set(e,n),n}function ye(e,t,n,s,i,r,o,l=0){const h=16.666/s;let u=`{
`;for(let y=0;y<=1;y+=h){const b=t+(n-t)*r(y);u+=y*100+`%{${o(b,1-b)}}
`}const m=u+`100% {${o(n,1-n)}}
}`,p=`__svelte_${nt(m)}_${l}`,a=Le(e),{stylesheet:c,rules:f}=Z.get(a)||st(a,e);f[p]||(f[p]=!0,c.insertRule(`@keyframes ${p} ${m}`,c.cssRules.length));const d=e.style.animation||"";return e.style.animation=`${d?`${d}, `:""}${p} ${s}ms linear ${i}ms 1 both`,J+=1,p}function it(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?r=>r.indexOf(t)<0:r=>r.indexOf("__svelte")===-1),i=n.length-s.length;i&&(e.style.animation=s.join(", "),J-=i,J||rt())}function rt(){ue(()=>{J||(Z.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&N(t)}),Z.clear())})}let V;function K(e){V=e}function ot(){if(!V)throw new Error("Function called outside component initialization");return V}function qe(e){ot().$$.on_mount.push(e)}const B=[],be=[];let W=[];const we=[],lt=Promise.resolve();let le=!1;function ct(){le||(le=!0,lt.then(Ie))}function F(e){W.push(e)}const se=new Set;let D=0;function Ie(){if(D!==0)return;const e=V;do{try{for(;D<B.length;){const t=B[D];D++,K(t),ft(t.$$)}}catch(t){throw B.length=0,D=0,t}for(K(null),B.length=0,D=0;be.length;)be.pop()();for(let t=0;t<W.length;t+=1){const n=W[t];se.has(n)||(se.add(n),n())}W.length=0}while(B.length);for(;we.length;)we.pop()();le=!1,se.clear(),K(e)}function ft(e){if(e.fragment!==null){e.update(),A(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(F)}}function ut(e){const t=[],n=[];W.forEach(s=>e.indexOf(s)===-1?t.push(s):n.push(s)),n.forEach(s=>s()),W=t}let H;function at(){return H||(H=Promise.resolve(),H.then(()=>{H=null})),H}function ie(e,t,n){e.dispatchEvent(tt(`${t?"intro":"outro"}${n}`))}const Y=new Set;let z;function We(){z={r:0,c:[],p:z}}function Fe(){z.r||A(z.c),z=z.p}function O(e,t){e&&e.i&&(Y.delete(e),e.i(t))}function G(e,t,n,s){if(e&&e.o){if(Y.has(e))return;Y.add(e),z.c.push(()=>{Y.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}const dt={duration:0};function Q(e,t,n,s){let r=t(e,n,{direction:"both"}),o=s?0:1,l=null,h=null,u=null,m;function p(){u&&it(e,u)}function a(f,d){const y=f.b-o;return d*=Math.abs(y),{a:o,b:f.b,d:y,duration:d,start:f.start,end:f.start+d,group:f.group}}function c(f){const{delay:d=0,duration:y=300,easing:b=Ee,tick:S=M,css:w}=r||dt,k={start:re()+d,b:f};f||(k.group=z,z.r+=1),"inert"in e&&(f?m!==void 0&&(e.inert=m):(m=e.inert,e.inert=!0)),l||h?h=k:(w&&(p(),u=ye(e,o,f,y,d,b,w)),f&&S(0,1),l=a(k,y),F(()=>ie(e,f,"start")),Ce(P=>{if(h&&P>h.start&&(l=a(h,y),h=null,ie(e,l.b,"start"),w&&(p(),u=ye(e,o,l.b,l.duration,0,b,r.css))),l){if(P>=l.end)S(o=l.b,1-o),ie(e,l.b,"end"),h||(l.b?p():--l.group.r||A(l.group.c)),l=null;else if(P>=l.start){const _=P-l.start;o=l.a+l.d*b(_/l.duration),S(o,1-o)}}return!!(l||h)}))}return{run(f){fe(r)?at().then(()=>{r=r({direction:f?"in":"out"}),c(f)}):c(f)},end(){p(),l=h=null}}}function q(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function ht(e,t){G(e,1,1,()=>{t.delete(e.key)})}function pt(e,t,n,s,i,r,o,l,h,u,m,p){let a=e.length,c=r.length,f=a;const d={};for(;f--;)d[e[f].key]=f;const y=[],b=new Map,S=new Map,w=[];for(f=c;f--;){const g=p(i,r,f),$=n(g);let x=o.get($);x?s&&w.push(()=>x.p(g,t)):(x=u($,g),x.c()),b.set($,y[f]=x),$ in d&&S.set($,Math.abs(f-d[$]))}const k=new Set,P=new Set;function _(g){O(g,1),g.m(l,m),o.set(g.key,g),m=g.first,c--}for(;a&&c;){const g=y[c-1],$=e[a-1],x=g.key,E=$.key;g===$?(m=g.first,a--,c--):b.has(E)?!o.has(x)||k.has(x)?_(g):P.has(E)?a--:S.get(x)>S.get(E)?(P.add(x),_(g)):(k.add(E),a--):(h($,o),a--)}for(;a--;){const g=e[a];b.has(g.key)||h(g,o)}for(;c;)_(y[c-1]);return A(w),y}function Ge(e){e&&e.c()}function ae(e,t,n){const{fragment:s,after_update:i}=e.$$;s&&s.m(t,n),F(()=>{const r=e.$$.on_mount.map(Oe).filter(fe);e.$$.on_destroy?e.$$.on_destroy.push(...r):A(r),e.$$.on_mount=[]}),i.forEach(F)}function de(e,t){const n=e.$$;n.fragment!==null&&(ut(n.after_update),A(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function _t(e,t){e.$$.dirty[0]===-1&&(B.push(e),ct(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function he(e,t,n,s,i,r,o=null,l=[-1]){const h=V;K(e);const u=e.$$={fragment:null,ctx:[],props:r,update:M,not_equal:i,bound:me(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(h?h.$$.context:[])),callbacks:me(),dirty:l,skip_bound:!1,root:t.target||h.$$.root};o&&o(u.root);let m=!1;if(u.ctx=n?n(e,t.props||{},(p,a,...c)=>{const f=c.length?c[0]:a;return u.ctx&&i(u.ctx[p],u.ctx[p]=f)&&(!u.skip_bound&&u.bound[p]&&u.bound[p](f),m&&_t(e,p)),a}):[],u.update(),m=!0,A(u.before_update),u.fragment=s?s(u.ctx):!1,t.target){if(t.hydrate){const p=Qe(t.target);u.fragment&&u.fragment.l(p),p.forEach(N)}else u.fragment&&u.fragment.c();t.intro&&O(e.$$.fragment),ae(e,t.target,t.anchor),Ie()}K(h)}class pe{constructor(){j(this,"$$");j(this,"$$set")}$destroy(){de(this,1),this.$destroy=M}$on(t,n){if(!fe(n))return M;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const i=s.indexOf(n);i!==-1&&s.splice(i,1)}}$set(t){this.$$set&&!Ke(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const mt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(mt);const R=[];function gt(e,t=M){let n;const s=new Set;function i(l){if(te(e,l)&&(e=l,n)){const h=!R.length;for(const u of s)u[1](),R.push(u,e);if(h){for(let u=0;u<R.length;u+=2)R[u][0](R[u+1]);R.length=0}}}function r(l){i(l(e))}function o(l,h=M){const u=[l,h];return s.add(u),s.size===1&&(n=t(i,r)||M),l(e),()=>{s.delete(u),s.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:o}}function $e(e){return Object.prototype.toString.call(e)==="[object Date]"}function ce(e,t,n,s){if(typeof n=="number"||$e(n)){const i=s-n,r=(n-t)/(e.dt||1/60),o=e.opts.stiffness*i,l=e.opts.damping*r,h=(o-l)*e.inv_mass,u=(r+h)*e.dt;return Math.abs(u)<e.opts.precision&&Math.abs(i)<e.opts.precision?s:(e.settled=!1,$e(n)?new Date(n.getTime()+u):n+u)}else{if(Array.isArray(n))return n.map((i,r)=>ce(e,t[r],n[r],s[r]));if(typeof n=="object"){const i={};for(const r in n)i[r]=ce(e,t[r],n[r],s[r]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function yt(e,t={}){const n=gt(e),{stiffness:s=.15,damping:i=.8,precision:r=.01}=t;let o,l,h,u=e,m=e,p=1,a=0,c=!1;function f(y,b={}){m=y;const S=h={};return e==null||b.hard||d.stiffness>=1&&d.damping>=1?(c=!0,o=re(),u=y,n.set(e=m),Promise.resolve()):(b.soft&&(a=1/((b.soft===!0?.5:+b.soft)*60),p=0),l||(o=re(),c=!1,l=Ce(w=>{if(c)return c=!1,l=null,!1;p=Math.min(p+a,1);const k={inv_mass:p,opts:d,settled:!0,dt:(w-o)*60/1e3},P=ce(k,u,e,m);return o=w,u=e,n.set(e=P),k.settled&&(l=null),!k.settled})),new Promise(w=>{l.promise.then(()=>{S===h&&w()})}))}const d={set:f,update:(y,b)=>f(y(m,e),b),subscribe:n.subscribe,stiffness:s,damping:i,precision:r};return d}function ee(e,{delay:t=0,duration:n=400,easing:s=Ee}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:s,css:r=>`opacity: ${r*i}`}}function bt(e){let t,n,s,i,r;return{c(){t=ne("div"),t.innerHTML='<svg width="100%" height="100%" viewBox="1 1 1 1" preserveAspectRatio="none" fill="currentColor" class="svelte-16atkjp"><path d="M 0 0 L 2 0 L 0 2 Z" class="svelte-16atkjp"></path></svg>',v(t,"role","cell"),v(t,"tabindex","-1"),v(t,"class","svelte-16atkjp"),T(t,"--y",`${e[1].y}%`),T(t,"--x",`${e[1].x}%`),T(t,"--board-size",e[0])},m(o,l){U(o,t,l),s=!0,i||(r=[L(window,"mousemove",e[3]),L(window,"touchmove",e[3]),L(window,"mouseup",e[5]),L(window,"touchend",e[5]),L(t,"mousedown",ge(e[4])),L(t,"touchstart",ge(e[4]))],i=!0)},p(o,[l]){e=o,l&2&&T(t,"--y",`${e[1].y}%`),l&2&&T(t,"--x",`${e[1].x}%`),l&1&&T(t,"--board-size",e[0])},i(o){s||(F(()=>{s&&(n||(n=Q(t,ee,{duration:100,delay:e[6]},!0)),n.run(1))}),s=!0)},o(o){n||(n=Q(t,ee,{duration:100,delay:e[6]},!1)),n.run(0),s=!1},d(o){o&&N(t),o&&n&&n.end(),i=!1,A(r)}}}function wt(e,t,n){let s,{id:i}=t,{cursorPos:r={x:0,y:0}}=t,{boardPoints:o=[]}=t,{boardSize:l}=t,{blockSize:h=1}=t,u=!1,m={x:0,y:0},{shapePos:p={x:0,y:0}}=t;const a=_=>_/h,c=()=>Math.random()*100,f=yt({x:c(),y:c()},{stiffness:.01,damping:.1});Xe(e,f,_=>n(1,s=_));const d=_=>{let g=_.touches?_.touches[0]:_;return{x:g.clientX,y:g.clientY}},y=_=>{if(!u)return;const g=d(_);u&&f.set({x:a(g.x)*100-m.x,y:a(g.y)*100-m.y})},b=_=>{u=!0;const g=d(_),$=_.touches?30:0;m={x:a(g.x)*100-s.x,y:a(g.y+$)*100-s.y}},S=(_,g)=>o.flat().reduce((x,E)=>{const _e=Math.sqrt((E.x-_)**2+(E.y-g)**2);return _e<x.distance?{distance:_e,point:E}:x},{distance:1/0,point:{x:0,y:0}}).point,w=_=>{const{x:g,y:$}=S(_.x,_.y);f.set({x:g/l*100,y:$/l*100})},k=()=>{u&&(u=!1,w({x:s.x/100*l,y:s.y/100*l}))};let P=100*i+500;return qe(()=>{setTimeout(()=>{w(p)},P)}),e.$$set=_=>{"id"in _&&n(7,i=_.id),"cursorPos"in _&&n(8,r=_.cursorPos),"boardPoints"in _&&n(9,o=_.boardPoints),"boardSize"in _&&n(0,l=_.boardSize),"blockSize"in _&&n(10,h=_.blockSize),"shapePos"in _&&n(11,p=_.shapePos)},[l,s,f,y,b,k,P,i,r,o,h,p]}class $t extends pe{constructor(t){super(),he(this,t,wt,bt,te,{id:7,cursorPos:8,boardPoints:9,boardSize:0,blockSize:10,shapePos:11})}}function ve(e,t,n){const s=e.slice();return s[7]=t[n],s}function xe(e,t,n){const s=e.slice();return s[10]=t[n],s}function ke(e,t,n){const s=e.slice();return s[13]=t[n],s}function Pe(e,t){let n,s,i;return s=new $t({props:{id:t[13].id,shapePos:t[13].pos,cursorPos:t[2],boardPoints:t[4],blockSize:t[1],boardSize:C}}),{key:e,first:null,c(){n=Be(),Ge(s.$$.fragment),this.first=n},m(r,o){U(r,n,o),ae(s,r,o),i=!0},p(r,o){t=r;const l={};o&2&&(l.blockSize=t[1]),s.$set(l)},i(r){i||(O(s.$$.fragment,r),i=!0)},o(r){G(s.$$.fragment,r),i=!1},d(r){r&&N(n),de(s,r)}}}function Se(e){let t;return{c(){t=De("circle"),v(t,"r",".1"),v(t,"cx",e[10].x),v(t,"cy",e[10].y)},m(n,s){U(n,t,s)},p:M,d(n){n&&N(t)}}}function Me(e){let t,n=q(e[7]),s=[];for(let i=0;i<n.length;i+=1)s[i]=Se(xe(e,n,i));return{c(){for(let i=0;i<s.length;i+=1)s[i].c();t=Be()},m(i,r){for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(i,r);U(i,t,r)},p(i,r){if(r&16){n=q(i[7]);let o;for(o=0;o<n.length;o+=1){const l=xe(i,n,o);s[o]?s[o].p(l,r):(s[o]=Se(l),s[o].c(),s[o].m(t.parentNode,t))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},d(i){i&&N(t),Te(s,i)}}}function vt(e){let t,n=[],s=new Map,i,r,o,l,h,u=q(e[3]);const m=c=>c[13].id;for(let c=0;c<u.length;c+=1){let f=ke(e,u,c),d=m(f);s.set(d,n[c]=Pe(d,f))}let p=q(e[4]),a=[];for(let c=0;c<p.length;c+=1)a[c]=Me(ve(e,p,c));return{c(){t=ne("div");for(let c=0;c<n.length;c+=1)n[c].c();i=Je(),r=De("svg");for(let c=0;c<a.length;c+=1)a[c].c();v(r,"width","100%"),v(r,"height","100%"),v(r,"viewBox",`0 0 ${C} ${C}`),v(r,"xmlns","http://www.w3.org/2000/svg"),v(r,"fill","black"),v(r,"class","svelte-1uiparx"),v(t,"class","board svelte-1uiparx")},m(c,f){U(c,t,f);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(t,null);oe(t,i),oe(t,r);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(r,null);o=et.observe(t,e[5].bind(t)),h=!0},p(c,[f]){if(f&30&&(u=q(c[3]),We(),n=pt(n,f,m,1,c,u,s,t,ht,Pe,i,ke),Fe()),f&16){p=q(c[4]);let d;for(d=0;d<p.length;d+=1){const y=ve(c,p,d);a[d]?a[d].p(y,f):(a[d]=Me(y),a[d].c(),a[d].m(r,null))}for(;d<a.length;d+=1)a[d].d(1);a.length=p.length}},i(c){if(!h){for(let f=0;f<u.length;f+=1)O(n[f]);c&&F(()=>{h&&(l||(l=Q(t,ee,{duration:500},!0)),l.run(1))}),h=!0}},o(c){for(let f=0;f<n.length;f+=1)G(n[f]);c&&(l||(l=Q(t,ee,{duration:500},!1)),l.run(0)),h=!1},d(c){c&&N(t);for(let f=0;f<n.length;f+=1)n[f].d();Te(a,c),o(),c&&l&&l.end()}}}let C=15;function xt(e,t,n){let s,i={x:0,y:0},r=[{id:1,name:"Shape 1",pos:{x:8,y:8}},{id:2,name:"Shape 2",pos:{x:7,y:9}},{id:3,name:"Shape 3",pos:{x:9,y:7}}];const o=(m,p,a)=>Math.sqrt(m**2+p**2)<=a;let l=Array(C).fill().map((m,p)=>Array(C).fill().map((a,c)=>({x:p+.5,y:c+.5})).filter((a,c)=>o(a.x/C-.5,a.y/C-.5,.5))),h;function u(){var m;h=(m=X.entries.get(this))==null?void 0:m.borderBoxSize,n(0,h)}return e.$$.update=()=>{e.$$.dirty&1&&n(1,s=h?h[0].blockSize:0)},[h,s,i,r,l,u]}class kt extends pe{constructor(t){super(),he(this,t,xt,vt,te,{})}}function ze(e){let t,n;return t=new kt({}),{c(){Ge(t.$$.fragment)},m(s,i){ae(t,s,i),n=!0},i(s){n||(O(t.$$.fragment,s),n=!0)},o(s){G(t.$$.fragment,s),n=!1},d(s){de(t,s)}}}function Pt(e){let t,n,s=e[0]&&ze();return{c(){t=ne("main"),s&&s.c(),v(t,"class","svelte-r3d4ll")},m(i,r){U(i,t,r),s&&s.m(t,null),n=!0},p(i,[r]){i[0]?s?r&1&&O(s,1):(s=ze(),s.c(),O(s,1),s.m(t,null)):s&&(We(),G(s,1,1,()=>{s=null}),Fe())},i(i){n||(O(s),n=!0)},o(i){G(s),n=!1},d(i){i&&N(t),s&&s.d()}}}function St(e,t,n){let s=!1;return qe(()=>{setTimeout(()=>{n(0,s=!0)},300)}),[s]}class Mt extends pe{constructor(t){super(),he(this,t,St,Pt,te,{})}}new Mt({target:document.getElementById("app")});
