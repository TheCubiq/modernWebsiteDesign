var fn=Object.defineProperty;var dn=(s,e,t)=>e in s?fn(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var ae=(s,e,t)=>(dn(s,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function A(){}const xe=s=>s;function E(s,e){for(const t in e)s[t]=e[t];return s}function Kt(s){return s()}function ft(){return Object.create(null)}function Y(s){s.forEach(Kt)}function _e(s){return typeof s=="function"}function j(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}function pn(s){return Object.keys(s).length===0}function Ze(s,...e){if(s==null){for(const n of e)n(void 0);return A}const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Ye(s,e,t){s.$$.on_destroy.push(Ze(e,t))}function ne(s,e,t,n){if(s){const i=Gt(s,e,t,n);return s[0](i)}}function Gt(s,e,t,n){return s[1]&&n?E(t.ctx.slice(),s[1](n(e))):t.ctx}function se(s,e,t,n){if(s[2]&&n){const i=s[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],r=Math.max(e.dirty.length,i.length);for(let l=0;l<r;l+=1)o[l]=e.dirty[l]|i[l];return o}return e.dirty|i}return e.dirty}function ie(s,e,t,n,i,o){if(i){const r=Gt(e,t,n,o);s.p(r,i)}}function oe(s){if(s.ctx.length>32){const e=[],t=s.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function x(s){const e={};for(const t in s)t[0]!=="$"&&(e[t]=s[t]);return e}function dt(s,e){const t={};e=new Set(e);for(const n in s)!e.has(n)&&n[0]!=="$"&&(t[n]=s[n]);return t}function pt(s,e,t){return s.set(t),e}function mt(s){const e=typeof s=="string"&&s.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[s,"px"]}const Vt=typeof window<"u";let Ee=Vt?()=>window.performance.now():()=>Date.now(),it=Vt?s=>requestAnimationFrame(s):A;const Ce=new Set;function Jt(s){Ce.forEach(e=>{e.c(s)||(Ce.delete(e),e.f())}),Ce.size!==0&&it(Jt)}function je(s){let e;return Ce.size===0&&it(Jt),{promise:new Promise(t=>{Ce.add(e={c:s,f:t})}),abort(){Ce.delete(e)}}}const Ht=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;class Le{constructor(e){ae(this,"_listeners","WeakMap"in Ht?new WeakMap:void 0);ae(this,"_observer");ae(this,"options");this.options=e}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){return this._observer??(this._observer=new ResizeObserver(e=>{var t;for(const n of e)Le.entries.set(n.target,n),(t=this._listeners.get(n.target))==null||t(n)}))}}Le.entries="WeakMap"in Ht?new WeakMap:void 0;function G(s,e){s.appendChild(e)}function Qt(s){if(!s)return document;const e=s.getRootNode?s.getRootNode():s.ownerDocument;return e&&e.host?e:s.ownerDocument}function mn(s){const e=J("style");return e.textContent="/* empty */",gn(Qt(s),e),e.sheet}function gn(s,e){return G(s.head||s,e),e.sheet}function R(s,e,t){s.insertBefore(e,t||null)}function T(s){s.parentNode&&s.parentNode.removeChild(s)}function ot(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function J(s){return document.createElement(s)}function fe(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Re(s){return document.createTextNode(s)}function ge(){return Re(" ")}function de(){return Re("")}function ee(s,e,t,n){return s.addEventListener(e,t,n),()=>s.removeEventListener(e,t,n)}function Xe(s){return function(e){return e.preventDefault(),s.call(this,e)}}function v(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function De(s,e){for(const t in e)v(s,t,e[t])}function bn(s){return Array.from(s.childNodes)}function gt(s,e){e=""+e,s.data!==e&&(s.data=e)}function bt(s,e){s.value=e??""}function K(s,e,t,n){t==null?s.style.removeProperty(e):s.style.setProperty(e,t,n?"important":"")}const yn=new Le({box:"border-box"});function F(s,e,t){s.classList.toggle(e,!!t)}function _n(s,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(s,{detail:e,bubbles:t,cancelable:n})}function yt(s,e){return new s(e)}const ze=new Map;let Fe=0;function wn(s){let e=5381,t=s.length;for(;t--;)e=(e<<5)-e^s.charCodeAt(t);return e>>>0}function Sn(s,e){const t={stylesheet:mn(e),rules:{}};return ze.set(s,t),t}function $e(s,e,t,n,i,o,r,l=0){const a=16.666/n;let c=`{
`;for(let _=0;_<=1;_+=a){const g=e+(t-e)*o(_);c+=_*100+`%{${r(g,1-g)}}
`}const p=c+`100% {${r(t,1-t)}}
}`,f=`__svelte_${wn(p)}_${l}`,u=Qt(s),{stylesheet:h,rules:d}=ze.get(u)||Sn(u,s);d[f]||(d[f]=!0,h.insertRule(`@keyframes ${f} ${p}`,h.cssRules.length));const m=s.style.animation||"";return s.style.animation=`${m?`${m}, `:""}${f} ${n}ms linear ${i}ms 1 both`,Fe+=1,f}function qe(s,e){const t=(s.style.animation||"").split(", "),n=t.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),i=t.length-n.length;i&&(s.style.animation=n.join(", "),Fe-=i,Fe||kn())}function kn(){it(()=>{Fe||(ze.forEach(s=>{const{ownerNode:e}=s.stylesheet;e&&T(e)}),ze.clear())})}function vn(s,e,t,n){if(!e)return A;const i=s.getBoundingClientRect();if(e.left===i.left&&e.right===i.right&&e.top===i.top&&e.bottom===i.bottom)return A;const{delay:o=0,duration:r=300,easing:l=xe,start:a=Ee()+o,end:c=a+r,tick:p=A,css:f}=t(s,{from:e,to:i},n);let u=!0,h=!1,d;function m(){f&&(d=$e(s,0,1,r,o,l,f)),o||(h=!0)}function _(){f&&qe(s,d),u=!1}return je(g=>{if(!h&&g>=a&&(h=!0),h&&g>=c&&(p(1,0),_()),!u)return!1;if(h){const k=g-a,w=0+1*l(k/r);p(w,1-w)}return!0}),m(),p(0,1),_}function Cn(s){const e=getComputedStyle(s);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:n}=e,i=s.getBoundingClientRect();s.style.position="absolute",s.style.width=t,s.style.height=n,Zt(s,i)}}function Zt(s,e){const t=s.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const n=getComputedStyle(s),i=n.transform==="none"?"":n.transform;s.style.transform=`${i} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let Ne;function Ie(s){Ne=s}function On(){if(!Ne)throw new Error("Function called outside component initialization");return Ne}function rt(s){On().$$.on_mount.push(s)}const ve=[],_t=[];let Oe=[];const wt=[],Pn=Promise.resolve();let et=!1;function En(){et||(et=!0,Pn.then(Yt))}function Z(s){Oe.push(s)}const Ve=new Set;let Se=0;function Yt(){if(Se!==0)return;const s=Ne;do{try{for(;Se<ve.length;){const e=ve[Se];Se++,Ie(e),Tn(e.$$)}}catch(e){throw ve.length=0,Se=0,e}for(Ie(null),ve.length=0,Se=0;_t.length;)_t.pop()();for(let e=0;e<Oe.length;e+=1){const t=Oe[e];Ve.has(t)||(Ve.add(t),t())}Oe.length=0}while(ve.length);for(;wt.length;)wt.pop()();et=!1,Ve.clear(),Ie(s)}function Tn(s){if(s.fragment!==null){s.update(),Y(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(Z)}}function Rn(s){const e=[],t=[];Oe.forEach(n=>s.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Oe=e}let Te;function lt(){return Te||(Te=Promise.resolve(),Te.then(()=>{Te=null})),Te}function be(s,e,t){s.dispatchEvent(_n(`${e?"intro":"outro"}${t}`))}const Be=new Set;let Q;function ue(){Q={r:0,c:[],p:Q}}function he(){Q.r||Y(Q.c),Q=Q.p}function O(s,e){s&&s.i&&(Be.delete(s),s.i(e))}function P(s,e,t,n){if(s&&s.o){if(Be.has(s))return;Be.add(s),Q.c.push(()=>{Be.delete(s),n&&(t&&s.d(1),n())}),s.o(e)}else n&&n()}const at={duration:0};function Xt(s,e,t){const n={direction:"in"};let i=e(s,t,n),o=!1,r,l,a=0;function c(){r&&qe(s,r)}function p(){const{delay:u=0,duration:h=300,easing:d=xe,tick:m=A,css:_}=i||at;_&&(r=$e(s,0,1,h,u,d,_,a++)),m(0,1);const g=Ee()+u,k=g+h;l&&l.abort(),o=!0,Z(()=>be(s,!0,"start")),l=je(w=>{if(o){if(w>=k)return m(1,0),be(s,!0,"end"),c(),o=!1;if(w>=g){const C=d((w-g)/h);m(C,1-C)}}return o})}let f=!1;return{start(){f||(f=!0,qe(s),_e(i)?(i=i(n),lt().then(p)):p())},invalidate(){f=!1},end(){o&&(c(),o=!1)}}}function en(s,e,t){const n={direction:"out"};let i=e(s,t,n),o=!0,r;const l=Q;l.r+=1;let a;function c(){const{delay:p=0,duration:f=300,easing:u=xe,tick:h=A,css:d}=i||at;d&&(r=$e(s,1,0,f,p,u,d));const m=Ee()+p,_=m+f;Z(()=>be(s,!1,"start")),"inert"in s&&(a=s.inert,s.inert=!0),je(g=>{if(o){if(g>=_)return h(0,1),be(s,!1,"end"),--l.r||Y(l.c),!1;if(g>=m){const k=u((g-m)/f);h(1-k,k)}}return o})}return _e(i)?lt().then(()=>{i=i(n),c()}):c(),{end(p){p&&"inert"in s&&(s.inert=a),p&&i.tick&&i.tick(1,0),o&&(r&&qe(s,r),o=!1)}}}function We(s,e,t,n){let o=e(s,t,{direction:"both"}),r=n?0:1,l=null,a=null,c=null,p;function f(){c&&qe(s,c)}function u(d,m){const _=d.b-r;return m*=Math.abs(_),{a:r,b:d.b,d:_,duration:m,start:d.start,end:d.start+m,group:d.group}}function h(d){const{delay:m=0,duration:_=300,easing:g=xe,tick:k=A,css:w}=o||at,C={start:Ee()+m,b:d};d||(C.group=Q,Q.r+=1),"inert"in s&&(d?p!==void 0&&(s.inert=p):(p=s.inert,s.inert=!0)),l||a?a=C:(w&&(f(),c=$e(s,r,d,_,m,g,w)),d&&k(0,1),l=u(C,_),Z(()=>be(s,d,"start")),je(I=>{if(a&&I>a.start&&(l=u(a,_),a=null,be(s,l.b,"start"),w&&(f(),c=$e(s,r,l.b,l.duration,0,g,o.css))),l){if(I>=l.end)k(r=l.b,1-r),be(s,l.b,"end"),a||(l.b?f():--l.group.r||Y(l.group.c)),l=null;else if(I>=l.start){const N=I-l.start;r=l.a+l.d*g(N/l.duration),k(r,1-r)}}return!!(l||a)}))}return{run(d){_e(o)?lt().then(()=>{o=o({direction:d?"in":"out"}),h(d)}):h(d)},end(){f(),l=a=null}}}function V(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function ct(s,e){P(s,1,1,()=>{e.delete(s.key)})}function In(s,e){s.f(),ct(s,e)}function ut(s,e,t,n,i,o,r,l,a,c,p,f){let u=s.length,h=o.length,d=u;const m={};for(;d--;)m[s[d].key]=d;const _=[],g=new Map,k=new Map,w=[];for(d=h;d--;){const y=f(i,o,d),S=t(y);let b=r.get(S);b?n&&w.push(()=>b.p(y,e)):(b=c(S,y),b.c()),g.set(S,_[d]=b),S in m&&k.set(S,Math.abs(d-m[S]))}const C=new Set,I=new Set;function N(y){O(y,1),y.m(l,p),r.set(y.key,y),p=y.first,h--}for(;u&&h;){const y=_[h-1],S=s[u-1],b=y.key,$=S.key;y===S?(p=y.first,u--,h--):g.has($)?!r.has(b)||C.has(b)?N(y):I.has($)?u--:k.get(b)>k.get($)?(I.add(b),N(y)):(C.add($),u--):(a(S,r),u--)}for(;u--;){const y=s[u];g.has(y.key)||a(y,r)}for(;h;)N(_[h-1]);return Y(w),_}function X(s,e){const t={},n={},i={$$scope:1};let o=s.length;for(;o--;){const r=s[o],l=e[o];if(l){for(const a in r)a in l||(n[a]=1);for(const a in l)i[a]||(t[a]=l[a],i[a]=1);s[o]=l}else for(const a in r)i[a]=1}for(const r in n)r in t||(t[r]=void 0);return t}function pe(s){return typeof s=="object"&&s!==null?s:{}}function U(s){s&&s.c()}function L(s,e,t){const{fragment:n,after_update:i}=s.$$;n&&n.m(e,t),Z(()=>{const o=s.$$.on_mount.map(Kt).filter(_e);s.$$.on_destroy?s.$$.on_destroy.push(...o):Y(o),s.$$.on_mount=[]}),i.forEach(Z)}function M(s,e){const t=s.$$;t.fragment!==null&&(Rn(t.after_update),Y(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function $n(s,e){s.$$.dirty[0]===-1&&(ve.push(s),En(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function B(s,e,t,n,i,o,r=null,l=[-1]){const a=Ne;Ie(s);const c=s.$$={fragment:null,ctx:[],props:o,update:A,not_equal:i,bound:ft(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:ft(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};r&&r(c.root);let p=!1;if(c.ctx=t?t(s,e.props||{},(f,u,...h)=>{const d=h.length?h[0]:u;return c.ctx&&i(c.ctx[f],c.ctx[f]=d)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](d),p&&$n(s,f)),u}):[],c.update(),p=!0,Y(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const f=bn(e.target);c.fragment&&c.fragment.l(f),f.forEach(T)}else c.fragment&&c.fragment.c();e.intro&&O(s.$$.fragment),L(s,e.target,e.anchor),Yt()}Ie(a)}class D{constructor(){ae(this,"$$");ae(this,"$$set")}$destroy(){M(this,1),this.$destroy=A}$on(e,t){if(!_e(t))return A;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!pn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const qn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(qn);const ke=[];function Ae(s,e=A){let t;const n=new Set;function i(l){if(j(s,l)&&(s=l,t)){const a=!ke.length;for(const c of n)c[1](),ke.push(c,s);if(a){for(let c=0;c<ke.length;c+=2)ke[c][0](ke[c+1]);ke.length=0}}}function o(l){i(l(s))}function r(l,a=A){const c=[l,a];return n.add(c),n.size===1&&(t=e(i,o)||A),l(s),()=>{n.delete(c),n.size===0&&t&&(t(),t=null)}}return{set:i,update:o,subscribe:r}}function St(s){return Object.prototype.toString.call(s)==="[object Date]"}function tt(s,e,t,n){if(typeof t=="number"||St(t)){const i=n-t,o=(t-e)/(s.dt||1/60),r=s.opts.stiffness*i,l=s.opts.damping*o,a=(r-l)*s.inv_mass,c=(o+a)*s.dt;return Math.abs(c)<s.opts.precision&&Math.abs(i)<s.opts.precision?n:(s.settled=!1,St(t)?new Date(t.getTime()+c):t+c)}else{if(Array.isArray(t))return t.map((i,o)=>tt(s,e[o],t[o],n[o]));if(typeof t=="object"){const i={};for(const o in t)i[o]=tt(s,e[o],t[o],n[o]);return i}else throw new Error(`Cannot spring ${typeof t} values`)}}function Nn(s,e={}){const t=Ae(s),{stiffness:n=.15,damping:i=.8,precision:o=.01}=e;let r,l,a,c=s,p=s,f=1,u=0,h=!1;function d(_,g={}){p=_;const k=a={};return s==null||g.hard||m.stiffness>=1&&m.damping>=1?(h=!0,r=Ee(),c=_,t.set(s=p),Promise.resolve()):(g.soft&&(u=1/((g.soft===!0?.5:+g.soft)*60),f=0),l||(r=Ee(),h=!1,l=je(w=>{if(h)return h=!1,l=null,!1;f=Math.min(f+u,1);const C={inv_mass:f,opts:m,settled:!0,dt:(w-r)*60/1e3},I=tt(C,c,s,p);return r=w,c=s,t.set(s=I),C.settled&&(l=null),!C.settled})),new Promise(w=>{l.promise.then(()=>{k===a&&w()})}))}const m={set:d,update:(_,g)=>d(_(p,s),g),subscribe:t.subscribe,stiffness:n,damping:i,precision:o};return m}function An(s){return s<.5?4*s*s*s:.5*Math.pow(2*s-2,3)+1}function tn(s){const e=s-1;return e*e*e+1}function ye(s,{delay:e=0,duration:t=400,easing:n=xe}={}){const i=+getComputedStyle(s).opacity;return{delay:e,duration:t,easing:n,css:o=>`opacity: ${o*i}`}}function xn(s,{delay:e=0,duration:t=400,easing:n=tn,x:i=0,y:o=0,opacity:r=0}={}){const l=getComputedStyle(s),a=+l.opacity,c=l.transform==="none"?"":l.transform,p=a*(1-r),[f,u]=mt(i),[h,d]=mt(o);return{delay:e,duration:t,easing:n,css:(m,_)=>`
			transform: ${c} translate(${(1-m)*f}${u}, ${(1-m)*h}${d});
			opacity: ${a-p*_}`}}const te=15,ce=!1,Ke=s=>(s==null?void 0:s.length)<2?"M 0 0 Z":s.map((e,t)=>`${t===0?"M":"L"} ${e.x} ${e.y}`).join(" ")+" Z";function jn(s){let e,t,n,i,o,r,l,a,c,p;return{c(){e=J("div"),t=fe("svg"),n=fe("path"),v(n,"d",i=Ke(s[1].path)),v(n,"class","svelte-98wpx9"),v(t,"width","100%"),v(t,"height","100%"),v(t,"viewBox",o=s[9](s[1].origin)),v(t,"preserveAspectRatio","none"),v(t,"fill","currentColor"),v(t,"class","svelte-98wpx9"),v(e,"role","cell"),v(e,"tabindex","-1"),v(e,"class","svelte-98wpx9"),F(e,"hidden",s[3]),F(e,"shake",s[2]),K(e,"--y",`${s[4].y}%`),K(e,"--x",`${s[4].x}%`)},m(f,u){R(f,e,u),G(e,t),G(t,n),a=!0,c||(p=[ee(window,"mousemove",s[6]),ee(window,"touchmove",s[6]),ee(window,"mouseup",s[8]),ee(window,"touchend",s[8]),ee(e,"mousedown",Xe(s[7])),ee(e,"touchstart",Xe(s[7]))],c=!0)},p(f,[u]){s=f,(!a||u&2&&i!==(i=Ke(s[1].path)))&&v(n,"d",i),(!a||u&2&&o!==(o=s[9](s[1].origin)))&&v(t,"viewBox",o),(!a||u&8)&&F(e,"hidden",s[3]),(!a||u&4)&&F(e,"shake",s[2]),u&16&&K(e,"--y",`${s[4].y}%`),u&16&&K(e,"--x",`${s[4].x}%`)},i(f){a||(Z(()=>{a&&(l&&l.end(1),r=Xt(e,ye,{duration:100,delay:s[10]}),r.start())}),a=!0)},o(f){r&&r.invalidate(),l=en(e,xn,{y:300,duration:2e3,delay:200+s[0]*100,easing:An}),a=!1},d(f){f&&T(e),f&&l&&l.end(),c=!1,Y(p)}}}function Ln(s,e,t){let n,{introDelay:i=-1}=e,{shapeSkin:o}=e,{shake:r=!1}=e,{hidden:l=!1}=e,{boardPoints:a=[]}=e,{blockSize:c=1}=e,p=!1,f={x:0,y:0},{shape:u=null}=e;const h=b=>b/c,d=()=>Math.random()*100,m=Nn({x:d(),y:d()},{stiffness:.1,damping:.25});Ye(s,m,b=>t(4,n=b));const _=b=>{let $=b.touches?b.touches[0]:b;return{x:$.clientX,y:$.clientY}},g=b=>{if(!p||r)return;const $=_(b);p&&m.set({x:h($.x)*100-f.x,y:h($.y)*100-f.y})},k=b=>{p=!0;const $=_(b),re=b.touches?30:0;f={x:h($.x)*100-n.x,y:h($.y+re)*100-n.y}},w=(b,$)=>a.flat().reduce((H,le)=>{const Me=Math.sqrt((le.x-b)**2+(le.y-$)**2);return Me<H.distance?{distance:Me,point:le}:H},{distance:1/0,point:{x:0,y:0}}).point,C=(b,$=!1)=>{const{x:re,y:H}=w(b.x,b.y);m.set({x:re/te*100,y:H/te*100}),$&&(u==null||u.setPos({x:re+.5,y:H+.5}))},I=()=>{p&&(p=!1,C({x:n.x/100*te,y:n.y/100*te},!0))},N=(b,$={x:1,y:1})=>`${b.x} ${b.y} ${$.x} ${$.y}`;let y=i==-1?0:100*i+500,S=!1;return rt(()=>{setTimeout(()=>{t(14,S=!0),C(u.pos,!0)},y)}),s.$$set=b=>{"introDelay"in b&&t(0,i=b.introDelay),"shapeSkin"in b&&t(1,o=b.shapeSkin),"shake"in b&&t(2,r=b.shake),"hidden"in b&&t(3,l=b.hidden),"boardPoints"in b&&t(11,a=b.boardPoints),"blockSize"in b&&t(12,c=b.blockSize),"shape"in b&&t(13,u=b.shape)},s.$$.update=()=>{s.$$.dirty&24576&&S&&C(u.pos)},[i,o,r,l,n,m,g,k,I,N,y,a,c,u,S]}class Mn extends D{constructor(e){super(),B(this,e,Ln,jn,j,{introDelay:0,shapeSkin:1,shake:2,hidden:3,boardPoints:11,blockSize:12,shape:13})}}class W extends Error{constructor(e){var t,n,i,o;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,W.prototype),e!==null&&typeof e=="object"&&(this.url=typeof e.url=="string"?e.url:"",this.status=typeof e.status=="number"?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,e.response!==null&&typeof e.response=="object"?this.response=e.response:e.data!==null&&typeof e.data=="object"?this.response=e.data:this.response={}),this.originalError||e instanceof W||(this.originalError=e),typeof DOMException<"u"&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=(t=this.response)==null?void 0:t.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":(o=(i=(n=this.originalError)==null?void 0:n.cause)==null?void 0:i.message)!=null&&o.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return{...this}}}const Ue=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Un(s,e){const t={};if(typeof s!="string")return t;const n=Object.assign({},e||{}).decode||Bn;let i=0;for(;i<s.length;){const o=s.indexOf("=",i);if(o===-1)break;let r=s.indexOf(";",i);if(r===-1)r=s.length;else if(r<o){i=s.lastIndexOf(";",o-1)+1;continue}const l=s.slice(i,o).trim();if(t[l]===void 0){let a=s.slice(o+1,r).trim();a.charCodeAt(0)===34&&(a=a.slice(1,-1));try{t[l]=n(a)}catch{t[l]=a}}i=r+1}return t}function kt(s,e,t){const n=Object.assign({},t||{}),i=n.encode||Dn;if(!Ue.test(s))throw new TypeError("argument name is invalid");const o=i(e);if(o&&!Ue.test(o))throw new TypeError("argument val is invalid");let r=s+"="+o;if(n.maxAge!=null){const l=n.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");r+="; Max-Age="+Math.floor(l)}if(n.domain){if(!Ue.test(n.domain))throw new TypeError("option domain is invalid");r+="; Domain="+n.domain}if(n.path){if(!Ue.test(n.path))throw new TypeError("option path is invalid");r+="; Path="+n.path}if(n.expires){if(!function(a){return Object.prototype.toString.call(a)==="[object Date]"||a instanceof Date}(n.expires)||isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");r+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":r+="; Priority=Low";break;case"medium":r+="; Priority=Medium";break;case"high":r+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r}function Bn(s){return s.indexOf("%")!==-1?decodeURIComponent(s):s}function Dn(s){return encodeURIComponent(s)}let nn;function Pe(s){if(s)try{const e=decodeURIComponent(nn(s.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}function sn(s,e=0){let t=Pe(s);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}nn=typeof atob=="function"?atob:s=>{let e=String(s).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,n,i=0,o=0,r="";n=e.charAt(o++);~n&&(t=i%4?64*t+n:n,i++%4)?r+=String.fromCharCode(255&t>>(-2*i&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return r};const vt="pb_auth";class zn{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!sn(this.token)}get isAdmin(){return Pe(this.token).type==="admin"}get isAuthRecord(){return Pe(this.token).type==="authRecord"}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=vt){const n=Un(e||"")[t]||"";let i={};try{i=JSON.parse(n),(typeof i===null||typeof i!="object"||Array.isArray(i))&&(i={})}catch{}this.save(i.token||"",i.model||null)}exportToCookie(e,t=vt){var a,c;const n={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},i=Pe(this.token);n.expires=i!=null&&i.exp?new Date(1e3*i.exp):new Date("1970-01-01"),e=Object.assign({},n,e);const o={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null};let r=kt(t,JSON.stringify(o),e);const l=typeof Blob<"u"?new Blob([r]).size:r.length;if(o.model&&l>4096){o.model={id:(a=o==null?void 0:o.model)==null?void 0:a.id,email:(c=o==null?void 0:o.model)==null?void 0:c.email};const p=["collectionId","username","verified"];for(const f in this.model)p.includes(f)&&(o.model[f]=this.model[f]);r=kt(t,JSON.stringify(o),e)}return r}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.model),()=>{for(let n=this._onChangeCallbacks.length-1;n>=0;n--)if(this._onChangeCallbacks[n]==e)return delete this._onChangeCallbacks[n],void this._onChangeCallbacks.splice(n,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.model)}}class Fn extends zn{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(e,t){this._storageSet(this.storageKey,{token:e,model:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}}return this.storageFallback[e]}_storageSet(e,t){if(typeof window<"u"&&(window!=null&&window.localStorage)){let n=t;typeof t!="string"&&(n=JSON.stringify(t)),window.localStorage.setItem(e,n)}else this.storageFallback[e]=t}_storageRemove(e){var t;typeof window<"u"&&(window!=null&&window.localStorage)&&((t=window.localStorage)==null||t.removeItem(e)),delete this.storageFallback[e]}_bindStorageEvent(){typeof window<"u"&&(window!=null&&window.localStorage)&&window.addEventListener&&window.addEventListener("storage",e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.model||null)})}}class we{constructor(e){this.client=e}}class Wn extends we{async getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}async update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}async testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then(()=>!0)}async testEmail(e,t,n){return n=Object.assign({method:"POST",body:{email:e,template:t}},n),this.client.send("/api/settings/test/email",n).then(()=>!0)}async generateAppleClientSecret(e,t,n,i,o,r){return r=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:n,privateKey:i,duration:o}},r),this.client.send("/api/settings/apple/generate-client-secret",r)}}class ht extends we{decode(e){return e}async getFullList(e,t){if(typeof e=="number")return this._getFullList(e,t);let n=500;return(t=Object.assign({},e,t)).batch&&(n=t.batch,delete t.batch),this._getFullList(n,t)}async getList(e=1,t=30,n){return(n=Object.assign({method:"GET"},n)).query=Object.assign({page:e,perPage:t},n.query),this.client.send(this.baseCrudPath,n).then(i=>{var o;return i.items=((o=i.items)==null?void 0:o.map(r=>this.decode(r)))||[],i})}async getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then(n=>{var i;if(!((i=n==null?void 0:n.items)!=null&&i.length))throw new W({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return n.items[0]})}async getOne(e,t){if(!e)throw new W({url:this.client.buildUrl(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(n=>this.decode(n))}async create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then(n=>this.decode(n))}async update(e,t,n){return n=Object.assign({method:"PATCH",body:t},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),n).then(i=>this.decode(i))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(()=>!0)}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let n=[],i=async o=>this.getList(o,e||500,t).then(r=>{const l=r.items;return n=n.concat(l),l.length==r.perPage?i(o+1):n});return i(1)}}function z(s,e,t,n){const i=n!==void 0;return i||t!==void 0?i?(console.warn(s),e.body=Object.assign({},e.body,t),e.query=Object.assign({},e.query,n),e):Object.assign(e,t):e}function Je(s){var e;(e=s._resetAutoRefresh)==null||e.call(s)}class Kn extends ht{get baseCrudPath(){return"/api/admins"}async update(e,t,n){return super.update(e,t,n).then(i=>{var o,r;return((o=this.client.authStore.model)==null?void 0:o.id)===i.id&&((r=this.client.authStore.model)==null?void 0:r.collectionId)===void 0&&this.client.authStore.save(this.client.authStore.token,i),i})}async delete(e,t){return super.delete(e,t).then(n=>{var i,o;return n&&((i=this.client.authStore.model)==null?void 0:i.id)===e&&((o=this.client.authStore.model)==null?void 0:o.collectionId)===void 0&&this.client.authStore.clear(),n})}authResponse(e){const t=this.decode((e==null?void 0:e.admin)||{});return e!=null&&e.token&&(e!=null&&e.admin)&&this.client.authStore.save(e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:t})}async authWithPassword(e,t,n,i){let o={method:"POST",body:{identity:e,password:t}};o=z("This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).",o,n,i);const r=o.autoRefreshThreshold;delete o.autoRefreshThreshold,o.autoRefresh||Je(this.client);let l=await this.client.send(this.baseCrudPath+"/auth-with-password",o);return l=this.authResponse(l),r&&function(c,p,f,u){Je(c);const h=c.beforeSend,d=c.authStore.model,m=c.authStore.onChange((_,g)=>{(!_||(g==null?void 0:g.id)!=(d==null?void 0:d.id)||(g!=null&&g.collectionId||d!=null&&d.collectionId)&&(g==null?void 0:g.collectionId)!=(d==null?void 0:d.collectionId))&&Je(c)});c._resetAutoRefresh=function(){m(),c.beforeSend=h,delete c._resetAutoRefresh},c.beforeSend=async(_,g)=>{var I;const k=c.authStore.token;if((I=g.query)!=null&&I.autoRefresh)return h?h(_,g):{url:_,sendOptions:g};let w=c.authStore.isValid;if(w&&sn(c.authStore.token,p))try{await f()}catch{w=!1}w||await u();const C=g.headers||{};for(let N in C)if(N.toLowerCase()=="authorization"&&k==C[N]&&c.authStore.token){C[N]=c.authStore.token;break}return g.headers=C,h?h(_,g):{url:_,sendOptions:g}}}(this.client,r,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},o))),l}async authRefresh(e,t){let n={method:"POST"};return n=z("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",n,e,t),this.client.send(this.baseCrudPath+"/auth-refresh",n).then(this.authResponse.bind(this))}async requestPasswordReset(e,t,n){let i={method:"POST",body:{email:e}};return i=z("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",i,t,n),this.client.send(this.baseCrudPath+"/request-password-reset",i).then(()=>!0)}async confirmPasswordReset(e,t,n,i,o){let r={method:"POST",body:{token:e,password:t,passwordConfirm:n}};return r=z("This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).",r,i,o),this.client.send(this.baseCrudPath+"/confirm-password-reset",r).then(()=>!0)}}const Gn=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function on(s){if(s){s.query=s.query||{};for(let e in s)Gn.includes(e)||(s.query[e]=s[e],delete s[e])}}class rn extends we{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,n){var r;if(!e)throw new Error("topic must be set.");let i=e;if(n){on(n);const l="options="+encodeURIComponent(JSON.stringify({query:n.query,headers:n.headers}));i+=(i.includes("?")?"&":"?")+l}const o=function(l){const a=l;let c;try{c=JSON.parse(a==null?void 0:a.data)}catch{}t(c||{})};return this.subscriptions[i]||(this.subscriptions[i]=[]),this.subscriptions[i].push(o),this.isConnected?this.subscriptions[i].length===1?await this.submitSubscriptions():(r=this.eventSource)==null||r.addEventListener(i,o):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,o)}async unsubscribe(e){var n;let t=!1;if(e){const i=this.getSubscriptionsByTopic(e);for(let o in i)if(this.hasSubscriptionListeners(o)){for(let r of this.subscriptions[o])(n=this.eventSource)==null||n.removeEventListener(o,r);delete this.subscriptions[o],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){var n;let t=!1;for(let i in this.subscriptions)if((i+"?").startsWith(e)){t=!0;for(let o of this.subscriptions[i])(n=this.eventSource)==null||n.removeEventListener(i,o);delete this.subscriptions[i]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){var o;let n=!1;const i=this.getSubscriptionsByTopic(e);for(let r in i){if(!Array.isArray(this.subscriptions[r])||!this.subscriptions[r].length)continue;let l=!1;for(let a=this.subscriptions[r].length-1;a>=0;a--)this.subscriptions[r][a]===t&&(l=!0,delete this.subscriptions[r][a],this.subscriptions[r].splice(a,1),(o=this.eventSource)==null||o.removeEventListener(r,t));l&&(this.subscriptions[r].length||delete this.subscriptions[r],n||this.hasSubscriptionListeners(r)||(n=!0))}this.hasSubscriptionListeners()?n&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){var t,n;if(this.subscriptions=this.subscriptions||{},e)return!!((t=this.subscriptions[e])!=null&&t.length);for(let i in this.subscriptions)if((n=this.subscriptions[i])!=null&&n.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch(e=>{if(!(e!=null&&e.isAbort))throw e})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes("?")?e:e+"?";for(let n in this.subscriptions)(n+"?").startsWith(e)&&(t[n]=this.subscriptions[n]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",e=>{const t=e;this.clientId=t==null?void 0:t.lastEventId,this.submitSubscriptions().then(async()=>{let n=3;for(;this.hasUnsentSubscriptions()&&n>0;)n--,await this.submitSubscriptions()}).then(()=>{for(let i of this.pendingConnects)i.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const n=this.getSubscriptionsByTopic("PB_CONNECT");for(let i in n)for(let o of n[i])o(e)}).catch(n=>{this.clientId="",this.connectErrorHandler(n)})})}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let n of this.pendingConnects)n.reject(new W(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},t)}disconnect(e=!1){var t;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(t=this.eventSource)==null||t.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let n of this.pendingConnects)n.resolve();this.pendingConnects=[]}}}class Vn extends ht{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}async subscribe(e,t,n){if(!e)throw new Error("Missing topic.");if(!t)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t,n)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(typeof e=="number")return super.getFullList(e,t);const n=Object.assign({},e,t);return super.getFullList(n)}async getList(e=1,t=30,n){return super.getList(e,t,n)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,n){return super.update(e,t,n).then(i=>{var o,r,l;return((o=this.client.authStore.model)==null?void 0:o.id)!==(i==null?void 0:i.id)||((r=this.client.authStore.model)==null?void 0:r.collectionId)!==this.collectionIdOrName&&((l=this.client.authStore.model)==null?void 0:l.collectionName)!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,i),i})}async delete(e,t){return super.delete(e,t).then(n=>{var i,o,r;return!n||((i=this.client.authStore.model)==null?void 0:i.id)!==e||((o=this.client.authStore.model)==null?void 0:o.collectionId)!==this.collectionIdOrName&&((r=this.client.authStore.model)==null?void 0:r.collectionName)!==this.collectionIdOrName||this.client.authStore.clear(),n})}authResponse(e){const t=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:t})}async listAuthMethods(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e).then(t=>Object.assign({},t,{usernamePassword:!!(t!=null&&t.usernamePassword),emailPassword:!!(t!=null&&t.emailPassword),authProviders:Array.isArray(t==null?void 0:t.authProviders)?t==null?void 0:t.authProviders:[]}))}async authWithPassword(e,t,n,i){let o={method:"POST",body:{identity:e,password:t}};return o=z("This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).",o,n,i),this.client.send(this.baseCollectionPath+"/auth-with-password",o).then(r=>this.authResponse(r))}async authWithOAuth2Code(e,t,n,i,o,r,l){let a={method:"POST",body:{provider:e,code:t,codeVerifier:n,redirectUrl:i,createData:o}};return a=z("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).",a,r,l),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",a).then(c=>this.authResponse(c))}async authWithOAuth2(...e){if(e.length>1||typeof(e==null?void 0:e[0])=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{});const t=(e==null?void 0:e[0])||{},n=(await this.listAuthMethods()).authProviders.find(a=>a.name===t.provider);if(!n)throw new W(new Error(`Missing or invalid provider "${t.provider}".`));const i=this.client.buildUrl("/api/oauth2-redirect"),o=new rn(this.client);let r=null;function l(){r==null||r.close(),o.unsubscribe()}return t.urlCallback||(r=Ct(void 0)),new Promise(async(a,c)=>{var p;try{await o.subscribe("@oauth2",async d=>{const m=o.clientId;try{if(!d.state||m!==d.state)throw new Error("State parameters don't match.");if(d.error||!d.code)throw new Error("OAuth2 redirect error or missing code: "+d.error);const _=Object.assign({},t);delete _.provider,delete _.scopes,delete _.createData,delete _.urlCallback;const g=await this.authWithOAuth2Code(n.name,d.code,n.codeVerifier,i,t.createData,_);a(g)}catch(_){c(new W(_))}l()});const f={state:o.clientId};(p=t.scopes)!=null&&p.length&&(f.scope=t.scopes.join(" "));const u=this._replaceQueryParams(n.authUrl+i,f);await(t.urlCallback||function(d){r?r.location.href=d:r=Ct(d)})(u)}catch(f){l(),c(new W(f))}})}async authRefresh(e,t){let n={method:"POST"};return n=z("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",n,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",n).then(i=>this.authResponse(i))}async requestPasswordReset(e,t,n){let i={method:"POST",body:{email:e}};return i=z("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",i,t,n),this.client.send(this.baseCollectionPath+"/request-password-reset",i).then(()=>!0)}async confirmPasswordReset(e,t,n,i,o){let r={method:"POST",body:{token:e,password:t,passwordConfirm:n}};return r=z("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",r,i,o),this.client.send(this.baseCollectionPath+"/confirm-password-reset",r).then(()=>!0)}async requestVerification(e,t,n){let i={method:"POST",body:{email:e}};return i=z("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",i,t,n),this.client.send(this.baseCollectionPath+"/request-verification",i).then(()=>!0)}async confirmVerification(e,t,n){let i={method:"POST",body:{token:e}};return i=z("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",i,t,n),this.client.send(this.baseCollectionPath+"/confirm-verification",i).then(()=>{const o=Pe(e),r=this.client.authStore.model;return r&&!r.verified&&r.id===o.id&&r.collectionId===o.collectionId&&(r.verified=!0,this.client.authStore.save(this.client.authStore.token,r)),!0})}async requestEmailChange(e,t,n){let i={method:"POST",body:{newEmail:e}};return i=z("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",i,t,n),this.client.send(this.baseCollectionPath+"/request-email-change",i).then(()=>!0)}async confirmEmailChange(e,t,n,i){let o={method:"POST",body:{token:e,password:t}};return o=z("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",o,n,i),this.client.send(this.baseCollectionPath+"/confirm-email-change",o).then(()=>{const r=Pe(e),l=this.client.authStore.model;return l&&l.id===r.id&&l.collectionId===r.collectionId&&this.client.authStore.clear(),!0})}async listExternalAuths(e,t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",t)}async unlinkExternalAuth(e,t,n){return n=Object.assign({method:"DELETE"},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(t),n).then(()=>!0)}_replaceQueryParams(e,t={}){let n=e,i="";e.indexOf("?")>=0&&(n=e.substring(0,e.indexOf("?")),i=e.substring(e.indexOf("?")+1));const o={},r=i.split("&");for(const l of r){if(l=="")continue;const a=l.split("=");o[decodeURIComponent(a[0].replace(/\+/g," "))]=decodeURIComponent((a[1]||"").replace(/\+/g," "))}for(let l in t)t.hasOwnProperty(l)&&(t[l]==null?delete o[l]:o[l]=t[l]);i="";for(let l in o)o.hasOwnProperty(l)&&(i!=""&&(i+="&"),i+=encodeURIComponent(l.replace(/%20/g,"+"))+"="+encodeURIComponent(o[l].replace(/%20/g,"+")));return i!=""?n+"?"+i:n}}function Ct(s){if(typeof window>"u"||!(window!=null&&window.open))throw new W(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,t=768,n=window.innerWidth,i=window.innerHeight;e=e>n?n:e,t=t>i?i:t;let o=n/2-e/2,r=i/2-t/2;return window.open(s,"popup_window","width="+e+",height="+t+",top="+r+",left="+o+",resizable,menubar=no")}class Jn extends ht{get baseCrudPath(){return"/api/collections"}async import(e,t=!1,n){return n=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},n),this.client.send(this.baseCrudPath+"/import",n).then(()=>!0)}}class Hn extends we{async getList(e=1,t=30,n){return(n=Object.assign({method:"GET"},n)).query=Object.assign({page:e,perPage:t},n.query),this.client.send("/api/logs",n)}async getOne(e,t){if(!e)throw new W({url:this.client.buildUrl("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/stats",e)}}class Qn extends we{async check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class Zn extends we{getUrl(e,t,n={}){if(!t||!(e!=null&&e.id)||!(e!=null&&e.collectionId)&&!(e!=null&&e.collectionName))return"";const i=[];i.push("api"),i.push("files"),i.push(encodeURIComponent(e.collectionId||e.collectionName)),i.push(encodeURIComponent(e.id)),i.push(encodeURIComponent(t));let o=this.client.buildUrl(i.join("/"));if(Object.keys(n).length){n.download===!1&&delete n.download;const r=new URLSearchParams(n);o+=(o.includes("?")?"&":"?")+r}return o}async getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then(t=>(t==null?void 0:t.token)||"")}}class Yn extends we{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}async create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then(()=>!0)}async upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then(()=>!0)}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then(()=>!0)}async restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then(()=>!0)}getDownloadUrl(e,t){return this.client.buildUrl(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class Xn{constructor(e="/",t,n="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=n,this.authStore=t||new Fn,this.admins=new Kn(this),this.collections=new Jn(this),this.files=new Zn(this),this.logs=new Hn(this),this.settings=new Wn(this),this.realtime=new rn(this),this.health=new Qn(this),this.backups=new Yn(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new Vn(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let n in t){let i=t[n];switch(typeof i){case"boolean":case"number":i=""+i;break;case"string":i="'"+i.replace(/'/g,"\\'")+"'";break;default:i=i===null?"null":i instanceof Date?"'"+i.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(i).replace(/'/g,"\\'")+"'"}e=e.replaceAll("{:"+n+"}",i)}return e}getFileUrl(e,t,n={}){return this.files.getUrl(e,t,n)}buildUrl(e){var n;let t=this.baseUrl;return typeof window>"u"||!window.location||t.startsWith("https://")||t.startsWith("http://")||(t=(n=window.location.origin)!=null&&n.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(t+=window.location.pathname||"/",t+=t.endsWith("/")?"":"/"),t+=this.baseUrl),e&&(t+=t.endsWith("/")?"":"/",t+=e.startsWith("/")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let n=this.buildUrl(e);if(this.beforeSend){const i=Object.assign({},await this.beforeSend(n,t));i.url!==void 0||i.options!==void 0?(n=i.url||n,t=i.options||t):Object.keys(i).length&&(t=i,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(t.query!==void 0){const i=this.serializeQueryParams(t.query);i&&(n+=(n.includes("?")?"&":"?")+i),delete t.query}return this.getHeader(t.headers,"Content-Type")=="application/json"&&t.body&&typeof t.body!="string"&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(n,t).then(async i=>{let o={};try{o=await i.json()}catch{}if(this.afterSend&&(o=await this.afterSend(i,o)),i.status>=400)throw new W({url:i.url,status:i.status,data:o});return o}).catch(i=>{throw new W(i)})}initSendOptions(e,t){if((t=Object.assign({method:"GET"},t)).body=this.convertToFormDataIfNeeded(t.body),on(t),t.query=Object.assign({},t.params,t.query),t.requestKey===void 0&&(t.$autoCancel===!1||t.query.$autoCancel===!1?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,this.getHeader(t.headers,"Content-Type")!==null||this.isFormData(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),this.getHeader(t.headers,"Accept-Language")===null&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(t.headers,"Authorization")===null&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&t.requestKey!==null){const n=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(n);const i=new AbortController;this.cancelControllers[n]=i,t.signal=i.signal}return t}convertToFormDataIfNeeded(e){if(typeof FormData>"u"||e===void 0||typeof e!="object"||e===null||this.isFormData(e)||!this.hasBlobField(e))return e;const t=new FormData;for(const n in e){const i=e[n];if(typeof i!="object"||this.hasBlobField({data:i})){const o=Array.isArray(i)?i:[i];for(let r of o)t.append(n,r)}else{let o={};o[n]=i,t.append("@jsonPayload",JSON.stringify(o))}}return t}hasBlobField(e){for(const t in e){const n=Array.isArray(e[t])?e[t]:[e[t]];for(const i of n)if(typeof Blob<"u"&&i instanceof Blob||typeof File<"u"&&i instanceof File)return!0}return!1}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let n in e)if(n.toLowerCase()==t)return e[n];return null}isFormData(e){return e&&(e.constructor.name==="FormData"||typeof FormData<"u"&&e instanceof FormData)}serializeQueryParams(e){const t=[];for(const n in e){if(e[n]===null)continue;const i=e[n],o=encodeURIComponent(n);if(Array.isArray(i))for(const r of i)t.push(o+"="+encodeURIComponent(r));else i instanceof Date?t.push(o+"="+encodeURIComponent(i.toISOString())):typeof i!==null&&typeof i=="object"?t.push(o+"="+encodeURIComponent(JSON.stringify(i))):t.push(o+"="+encodeURIComponent(i))}return t.join("&")}}function Ot(s,e,t){const n=s.slice();return n[1]=e[t],n}function Pt(s,e,t){const n=s.slice();return n[4]=e[t],n}function Et(s){let e,t,n;return{c(){e=fe("circle"),v(e,"r",".1"),v(e,"cx",t=s[4].x),v(e,"cy",n=s[4].y)},m(i,o){R(i,e,o)},p(i,o){o&1&&t!==(t=i[4].x)&&v(e,"cx",t),o&1&&n!==(n=i[4].y)&&v(e,"cy",n)},d(i){i&&T(e)}}}function Tt(s){let e,t=V(s[1]),n=[];for(let i=0;i<t.length;i+=1)n[i]=Et(Pt(s,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=de()},m(i,o){for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(i,o);R(i,e,o)},p(i,o){if(o&1){t=V(i[1]);let r;for(r=0;r<t.length;r+=1){const l=Pt(i,t,r);n[r]?n[r].p(l,o):(n[r]=Et(l),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(i){i&&T(e),ot(n,i)}}}function es(s){let e,t,n,i,o=V(s[0].boardPoints),r=[];for(let l=0;l<o.length;l+=1)r[l]=Tt(Ot(s,o,l));return{c(){e=fe("svg");for(let l=0;l<r.length;l+=1)r[l].c();v(e,"width","100%"),v(e,"height","100%"),v(e,"viewBox",t=`0 0 ${s[0].boardSize} ${s[0].boardSize}`),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"fill","black"),v(e,"class","svelte-1o5z4u5")},m(l,a){R(l,e,a);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);i=!0},p(l,[a]){if(a&1){o=V(l[0].boardPoints);let c;for(c=0;c<o.length;c+=1){const p=Ot(l,o,c);r[c]?r[c].p(p,a):(r[c]=Tt(p),r[c].c(),r[c].m(e,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=o.length}(!i||a&1&&t!==(t=`0 0 ${l[0].boardSize} ${l[0].boardSize}`))&&v(e,"viewBox",t)},i(l){i||(n&&n.end(1),i=!0)},o(l){l&&(n=en(e,ye,{})),i=!1},d(l){l&&T(e),ot(r,l),l&&n&&n.end()}}}function ts(s,e,t){let{board:n}=e;return s.$$set=i=>{"board"in i&&t(0,n=i.board)},[n]}class ns extends D{constructor(e){super(),B(this,e,ts,es,j,{board:0})}}function ss(s){let e,t,n,i,o,r,l;return{c(){var a;e=J("div"),t=fe("svg"),n=fe("path"),v(n,"d",i=Ke((a=s[0])==null?void 0:a.path)),v(t,"width","100%"),v(t,"height","100%"),v(t,"viewBox",o=s[3](s[0].origin)),v(t,"preserveAspectRatio","none"),v(t,"fill","currentColor"),v(t,"class","svelte-1opn61b"),v(e,"role","cell"),v(e,"tabindex","-1"),v(e,"class","svelte-1opn61b"),K(e,"--y",`${s[2].x}%`),K(e,"--x",`${s[2].y}%`),K(e,"--board-size",te/s[1])},m(a,c){R(a,e,c),G(e,t),G(t,n),l=!0},p(a,[c]){var p;(!l||c&1&&i!==(i=Ke((p=a[0])==null?void 0:p.path)))&&v(n,"d",i),(!l||c&1&&o!==(o=a[3](a[0].origin)))&&v(t,"viewBox",o),c&4&&K(e,"--y",`${a[2].x}%`),c&4&&K(e,"--x",`${a[2].y}%`),c&2&&K(e,"--board-size",te/a[1])},i(a){l||(Z(()=>{l&&(r||(r=We(e,ye,{duration:1e3},!0)),r.run(1))}),l=!0)},o(a){r||(r=We(e,ye,{duration:1e3},!1)),r.run(0),l=!1},d(a){a&&T(e),a&&r&&r.end()}}}function is(s,e,t){let n,{shapeSkin:i}=e,{shapePos:o={x:0,y:0}}=e,{zoom:r=1.5}=e;const l=(a,c={x:1,y:1})=>`${a.x} ${a.y} ${c.x} ${c.y}`;return s.$$set=a=>{"shapeSkin"in a&&t(0,i=a.shapeSkin),"shapePos"in a&&t(4,o=a.shapePos),"zoom"in a&&t(1,r=a.zoom)},s.$$.update=()=>{s.$$.dirty&18&&t(2,n={x:(o.y-.5)*100*r/te-50*(r-1),y:(o.x-.5)*100*r/te-50*(r-1)})},[i,r,n,l,o]}class os extends D{constructor(e){super(),B(this,e,is,ss,j,{shapeSkin:0,shapePos:4,zoom:1})}}let nt=Ae({});const Rt=(s,e)=>Math.round(s*10**e)/10**e;let st={};nt.subscribe(s=>{st=s});class He{constructor(e,t,n,i){this.id=t,this.pos=n||{x:8,y:8},this.skin=i||"square",this.boardRef=e,this.markRemove=!1}setPos(e){this.pos=e,this.boardRef.checkBoardState(this)}loadSkin(){return st[this.skin]||(console.log("Skin not found: ",this.skin),this.skin="square"),st[this.skin]}}class rs{constructor(e){ae(this,"toggleRemoveMode",()=>(this.removeShapes=!this.removeShapes,this.removeShapes));ae(this,"toggleEditBoard",()=>(this.boardEditEnabled=!this.boardEditEnabled,this.boardEditEnabled));this.boardSize=e||15,this.boardShapes$=Ae([]),this.boardPoints=this.generateBoardSnapPoints(this.boardSize),this.currentLevel=1,this.final=[],this.levelCompleted$=Ae(!1),this.removeShapes=!1,this.boardEditEnabled=!1}addShape(e="square",t){this.boardShapes$.update(n=>{const i=new He(this,n.length+1,t,e);return[...n,i]})}setupLevel(e,t){this.currentLevel=t+1,this.boardShapes$.set(e.start.map((i,o)=>new He(this,o,i.pos,i.skin))),this.finalCenter=this.findCenterFromShapes(e.final);const n=this.relativeToCenter(this.finalCenter,{x:this.boardSize/2+.5,y:this.boardSize/2+.5});this.final=e.final.map((i,o)=>new He(null,o,this.relativeToCenter(i.pos,n),i.skin))}findCenterFromShapes(e){const t=e.reduce((n,i)=>({x:n.x+i.pos.x,y:n.y+i.pos.y}),{x:0,y:0});return{x:t.x/e.length,y:t.y/e.length}}relativeToCenter(e,t){return{x:Rt(e.x-t.x,2),y:Rt(e.y-t.y,2)}}getJSON(e){return JSON.stringify(e.map(({pos:t,skin:n})=>({pos:t,skin:n})))}checkBoardState(e,t=!1){this.boardShapes$.update(n=>(t&&console.log("ExportBoard: "+this.getJSON(n)),this.removeShapes&&(e.markRemove=!0,n=n.filter(i=>!i.markRemove)),this.boardEditEnabled||this.levelCompleted$.update(()=>this.checkLevelCompletion(n)),n))}areCoordsSame(e,t){return e.x===t.x&&e.y===t.y}checkLevelCompletion(e){const t=this.final,n=this.findCenterFromShapes(e),i=this.findCenterFromShapes(t),o=t.map(r=>({skin:r.skin,pos:this.relativeToCenter(r.pos,i)}));return e.every((r,l)=>{const a=this.relativeToCenter(r.pos,n);return o.some(c=>c.skin===r.skin&&this.areCoordsSame(a,c.pos))})}generateBoardSnapPoints(e){const t=(n,i,o)=>Math.sqrt(n**2+i**2)<=o;return Array(e).fill().map((n,i)=>Array(e).fill().map((o,r)=>({x:i+.5,y:r+.5})).filter((o,r)=>t(o.x/e-.5,o.y/e-.5,.5)))}}const ls=[{origin:{x:1,y:1},path:[{x:0,y:0},{x:2,y:0},{x:0,y:2}],skin:"triangle"},{origin:{x:1,y:1},path:[{x:0,y:0},{x:2,y:0},{x:2,y:2},{x:0,y:2}],skin:"square"},{origin:{x:1,y:1},path:[{x:0,y:0},{x:2,y:0},{x:3,y:2},{x:1,y:2}],skin:"parallel"},{origin:{x:1,y:1},path:[{x:1,y:0},{x:2,y:1},{x:1,y:2},{x:0,y:1}],skin:"rhombus"},{origin:{x:2,y:2},path:[{x:4,y:2},{x:2,y:4},{x:0,y:2},{x:2,y:0}],skin:"rhombus2"},{origin:{x:2,y:2},path:[{x:4,y:4},{x:0,y:4},{x:0,y:0},{x:4,y:0}],skin:"square2"},{origin:{x:2,y:2},path:[{x:0,y:4},{x:0,y:0},{x:4,y:0}],skin:"triangle2_lt"},{origin:{x:2,y:2},path:[{x:4,y:4},{x:0,y:0},{x:4,y:0}],skin:"triangle2_rt"},{origin:{x:2,y:2},path:[{x:4,y:4},{x:0,y:4},{x:4,y:0}],skin:"triangle2_rb"},{origin:{x:2,y:2},path:[{x:4,y:4},{x:0,y:4},{x:0,y:0}],skin:"triangle2_lb"},{origin:{x:3,y:3},path:[{x:6,y:6},{x:6,y:0},{x:0,y:0},{x:0,y:6}],skin:"square3"},{origin:{x:3,y:3},path:[{x:3,y:6},{x:6,y:3},{x:3,y:0},{x:0,y:3}],skin:"rhombus3"},{origin:{x:2,y:2},path:[{x:5,y:0},{x:0,y:0},{x:0,y:5}],skin:"triangle3_lt"},{origin:{x:4,y:4},path:[{x:5,y:5},{x:0,y:5},{x:5,y:0}],skin:"triangle3_rb"},{origin:{x:3,y:2},path:[{x:3,y:0},{x:6,y:3},{x:0,y:3}],skin:"triangle3_t"},{origin:{x:3,y:1},path:[{x:3,y:3},{x:6,y:0},{x:0,y:0}],skin:"triangle3_b"}];/**
 * @license lucide-svelte v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},It=as;function $t(s,e,t){const n=s.slice();return n[10]=e[t][0],n[11]=e[t][1],n}function Qe(s){let e,t=[s[11]],n={};for(let i=0;i<t.length;i+=1)n=E(n,t[i]);return{c(){e=fe(s[10]),De(e,n)},m(i,o){R(i,e,o)},p(i,o){De(e,n=X(t,[o&32&&i[11]]))},d(i){i&&T(e)}}}function qt(s){let e=s[10],t,n=s[10]&&Qe(s);return{c(){n&&n.c(),t=de()},m(i,o){n&&n.m(i,o),R(i,t,o)},p(i,o){i[10]?e?j(e,i[10])?(n.d(1),n=Qe(i),e=i[10],n.c(),n.m(t.parentNode,t)):n.p(i,o):(n=Qe(i),e=i[10],n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null,e=i[10])},d(i){i&&T(t),n&&n.d(i)}}}function cs(s){let e,t,n,i,o,r=V(s[5]),l=[];for(let u=0;u<r.length;u+=1)l[u]=qt($t(s,r,u));const a=s[9].default,c=ne(a,s,s[8],null);let p=[It,s[6],{width:s[2]},{height:s[2]},{stroke:s[1]},{"stroke-width":n=s[4]?Number(s[3])*24/Number(s[2]):s[3]},{class:i=`lucide-icon lucide lucide-${s[0]} ${s[7].class??""}`}],f={};for(let u=0;u<p.length;u+=1)f=E(f,p[u]);return{c(){e=fe("svg");for(let u=0;u<l.length;u+=1)l[u].c();t=de(),c&&c.c(),De(e,f)},m(u,h){R(u,e,h);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(e,null);G(e,t),c&&c.m(e,null),o=!0},p(u,[h]){if(h&32){r=V(u[5]);let d;for(d=0;d<r.length;d+=1){const m=$t(u,r,d);l[d]?l[d].p(m,h):(l[d]=qt(m),l[d].c(),l[d].m(e,t))}for(;d<l.length;d+=1)l[d].d(1);l.length=r.length}c&&c.p&&(!o||h&256)&&ie(c,a,u,u[8],o?se(a,u[8],h,null):oe(u[8]),null),De(e,f=X(p,[It,h&64&&u[6],(!o||h&4)&&{width:u[2]},(!o||h&4)&&{height:u[2]},(!o||h&2)&&{stroke:u[1]},(!o||h&28&&n!==(n=u[4]?Number(u[3])*24/Number(u[2]):u[3]))&&{"stroke-width":n},(!o||h&129&&i!==(i=`lucide-icon lucide lucide-${u[0]} ${u[7].class??""}`))&&{class:i}]))},i(u){o||(O(c,u),o=!0)},o(u){P(c,u),o=!1},d(u){u&&T(e),ot(l,u),c&&c.d(u)}}}function us(s,e,t){const n=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let i=dt(e,n),{$$slots:o={},$$scope:r}=e,{name:l}=e,{color:a="currentColor"}=e,{size:c=24}=e,{strokeWidth:p=2}=e,{absoluteStrokeWidth:f=!1}=e,{iconNode:u}=e;return s.$$set=h=>{t(7,e=E(E({},e),x(h))),t(6,i=dt(e,n)),"name"in h&&t(0,l=h.name),"color"in h&&t(1,a=h.color),"size"in h&&t(2,c=h.size),"strokeWidth"in h&&t(3,p=h.strokeWidth),"absoluteStrokeWidth"in h&&t(4,f=h.absoluteStrokeWidth),"iconNode"in h&&t(5,u=h.iconNode),"$$scope"in h&&t(8,r=h.$$scope)},e=x(e),[l,a,c,p,f,u,i,e,r,o]}class me extends D{constructor(e){super(),B(this,e,us,cs,j,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function hs(s){let e;const t=s[2].default,n=ne(t,s,s[3],null);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&8)&&ie(n,t,i,i[3],e?se(t,i[3],o,null):oe(i[3]),null)},i(i){e||(O(n,i),e=!0)},o(i){P(n,i),e=!1},d(i){n&&n.d(i)}}}function fs(s){let e,t;const n=[{name:"chevron-left"},s[1],{iconNode:s[0]}];let i={$$slots:{default:[hs]},$$scope:{ctx:s}};for(let o=0;o<n.length;o+=1)i=E(i,n[o]);return e=new me({props:i}),{c(){U(e.$$.fragment)},m(o,r){L(e,o,r),t=!0},p(o,[r]){const l=r&3?X(n,[n[0],r&2&&pe(o[1]),r&1&&{iconNode:o[0]}]):{};r&8&&(l.$$scope={dirty:r,ctx:o}),e.$set(l)},i(o){t||(O(e.$$.fragment,o),t=!0)},o(o){P(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function ds(s,e,t){let{$$slots:n={},$$scope:i}=e;const o=[["path",{d:"m15 18-6-6 6-6"}]];return s.$$set=r=>{t(1,e=E(E({},e),x(r))),"$$scope"in r&&t(3,i=r.$$scope)},e=x(e),[o,e,n,i]}class ps extends D{constructor(e){super(),B(this,e,ds,fs,j,{})}}const ms=ps;function gs(s){let e;const t=s[2].default,n=ne(t,s,s[3],null);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&8)&&ie(n,t,i,i[3],e?se(t,i[3],o,null):oe(i[3]),null)},i(i){e||(O(n,i),e=!0)},o(i){P(n,i),e=!1},d(i){n&&n.d(i)}}}function bs(s){let e,t;const n=[{name:"chevron-right"},s[1],{iconNode:s[0]}];let i={$$slots:{default:[gs]},$$scope:{ctx:s}};for(let o=0;o<n.length;o+=1)i=E(i,n[o]);return e=new me({props:i}),{c(){U(e.$$.fragment)},m(o,r){L(e,o,r),t=!0},p(o,[r]){const l=r&3?X(n,[n[0],r&2&&pe(o[1]),r&1&&{iconNode:o[0]}]):{};r&8&&(l.$$scope={dirty:r,ctx:o}),e.$set(l)},i(o){t||(O(e.$$.fragment,o),t=!0)},o(o){P(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function ys(s,e,t){let{$$slots:n={},$$scope:i}=e;const o=[["path",{d:"m9 18 6-6-6-6"}]];return s.$$set=r=>{t(1,e=E(E({},e),x(r))),"$$scope"in r&&t(3,i=r.$$scope)},e=x(e),[o,e,n,i]}class _s extends D{constructor(e){super(),B(this,e,ys,bs,j,{})}}const ws=_s;function Ss(s){let e;const t=s[2].default,n=ne(t,s,s[3],null);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&8)&&ie(n,t,i,i[3],e?se(t,i[3],o,null):oe(i[3]),null)},i(i){e||(O(n,i),e=!0)},o(i){P(n,i),e=!1},d(i){n&&n.d(i)}}}function ks(s){let e,t;const n=[{name:"download"},s[1],{iconNode:s[0]}];let i={$$slots:{default:[Ss]},$$scope:{ctx:s}};for(let o=0;o<n.length;o+=1)i=E(i,n[o]);return e=new me({props:i}),{c(){U(e.$$.fragment)},m(o,r){L(e,o,r),t=!0},p(o,[r]){const l=r&3?X(n,[n[0],r&2&&pe(o[1]),r&1&&{iconNode:o[0]}]):{};r&8&&(l.$$scope={dirty:r,ctx:o}),e.$set(l)},i(o){t||(O(e.$$.fragment,o),t=!0)},o(o){P(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function vs(s,e,t){let{$$slots:n={},$$scope:i}=e;const o=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["polyline",{points:"7 10 12 15 17 10"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3"}]];return s.$$set=r=>{t(1,e=E(E({},e),x(r))),"$$scope"in r&&t(3,i=r.$$scope)},e=x(e),[o,e,n,i]}class Cs extends D{constructor(e){super(),B(this,e,vs,ks,j,{})}}const Os=Cs;function Ps(s){let e;const t=s[2].default,n=ne(t,s,s[3],null);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&8)&&ie(n,t,i,i[3],e?se(t,i[3],o,null):oe(i[3]),null)},i(i){e||(O(n,i),e=!0)},o(i){P(n,i),e=!1},d(i){n&&n.d(i)}}}function Es(s){let e,t;const n=[{name:"minus"},s[1],{iconNode:s[0]}];let i={$$slots:{default:[Ps]},$$scope:{ctx:s}};for(let o=0;o<n.length;o+=1)i=E(i,n[o]);return e=new me({props:i}),{c(){U(e.$$.fragment)},m(o,r){L(e,o,r),t=!0},p(o,[r]){const l=r&3?X(n,[n[0],r&2&&pe(o[1]),r&1&&{iconNode:o[0]}]):{};r&8&&(l.$$scope={dirty:r,ctx:o}),e.$set(l)},i(o){t||(O(e.$$.fragment,o),t=!0)},o(o){P(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function Ts(s,e,t){let{$$slots:n={},$$scope:i}=e;const o=[["path",{d:"M5 12h14"}]];return s.$$set=r=>{t(1,e=E(E({},e),x(r))),"$$scope"in r&&t(3,i=r.$$scope)},e=x(e),[o,e,n,i]}class Rs extends D{constructor(e){super(),B(this,e,Ts,Es,j,{})}}const Is=Rs;function $s(s){let e;const t=s[2].default,n=ne(t,s,s[3],null);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&8)&&ie(n,t,i,i[3],e?se(t,i[3],o,null):oe(i[3]),null)},i(i){e||(O(n,i),e=!0)},o(i){P(n,i),e=!1},d(i){n&&n.d(i)}}}function qs(s){let e,t;const n=[{name:"pen-line"},s[1],{iconNode:s[0]}];let i={$$slots:{default:[$s]},$$scope:{ctx:s}};for(let o=0;o<n.length;o+=1)i=E(i,n[o]);return e=new me({props:i}),{c(){U(e.$$.fragment)},m(o,r){L(e,o,r),t=!0},p(o,[r]){const l=r&3?X(n,[n[0],r&2&&pe(o[1]),r&1&&{iconNode:o[0]}]):{};r&8&&(l.$$scope={dirty:r,ctx:o}),e.$set(l)},i(o){t||(O(e.$$.fragment,o),t=!0)},o(o){P(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function Ns(s,e,t){let{$$slots:n={},$$scope:i}=e;const o=[["path",{d:"M12 20h9"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"}]];return s.$$set=r=>{t(1,e=E(E({},e),x(r))),"$$scope"in r&&t(3,i=r.$$scope)},e=x(e),[o,e,n,i]}class As extends D{constructor(e){super(),B(this,e,Ns,qs,j,{})}}const xs=As;function js(s){let e;const t=s[2].default,n=ne(t,s,s[3],null);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&8)&&ie(n,t,i,i[3],e?se(t,i[3],o,null):oe(i[3]),null)},i(i){e||(O(n,i),e=!0)},o(i){P(n,i),e=!1},d(i){n&&n.d(i)}}}function Ls(s){let e,t;const n=[{name:"plus"},s[1],{iconNode:s[0]}];let i={$$slots:{default:[js]},$$scope:{ctx:s}};for(let o=0;o<n.length;o+=1)i=E(i,n[o]);return e=new me({props:i}),{c(){U(e.$$.fragment)},m(o,r){L(e,o,r),t=!0},p(o,[r]){const l=r&3?X(n,[n[0],r&2&&pe(o[1]),r&1&&{iconNode:o[0]}]):{};r&8&&(l.$$scope={dirty:r,ctx:o}),e.$set(l)},i(o){t||(O(e.$$.fragment,o),t=!0)},o(o){P(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function Ms(s,e,t){let{$$slots:n={},$$scope:i}=e;const o=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return s.$$set=r=>{t(1,e=E(E({},e),x(r))),"$$scope"in r&&t(3,i=r.$$scope)},e=x(e),[o,e,n,i]}class Us extends D{constructor(e){super(),B(this,e,Ms,Ls,j,{})}}const Bs=Us;function Ds(s){let e;const t=s[2].default,n=ne(t,s,s[3],null);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&8)&&ie(n,t,i,i[3],e?se(t,i[3],o,null):oe(i[3]),null)},i(i){e||(O(n,i),e=!0)},o(i){P(n,i),e=!1},d(i){n&&n.d(i)}}}function zs(s){let e,t;const n=[{name:"refresh-cw"},s[1],{iconNode:s[0]}];let i={$$slots:{default:[Ds]},$$scope:{ctx:s}};for(let o=0;o<n.length;o+=1)i=E(i,n[o]);return e=new me({props:i}),{c(){U(e.$$.fragment)},m(o,r){L(e,o,r),t=!0},p(o,[r]){const l=r&3?X(n,[n[0],r&2&&pe(o[1]),r&1&&{iconNode:o[0]}]):{};r&8&&(l.$$scope={dirty:r,ctx:o}),e.$set(l)},i(o){t||(O(e.$$.fragment,o),t=!0)},o(o){P(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function Fs(s,e,t){let{$$slots:n={},$$scope:i}=e;const o=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}],["path",{d:"M8 16H3v5"}]];return s.$$set=r=>{t(1,e=E(E({},e),x(r))),"$$scope"in r&&t(3,i=r.$$scope)},e=x(e),[o,e,n,i]}class Ws extends D{constructor(e){super(),B(this,e,Fs,zs,j,{})}}const Ks=Ws;function Gs(s){let e;const t=s[2].default,n=ne(t,s,s[3],null);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&8)&&ie(n,t,i,i[3],e?se(t,i[3],o,null):oe(i[3]),null)},i(i){e||(O(n,i),e=!0)},o(i){P(n,i),e=!1},d(i){n&&n.d(i)}}}function Vs(s){let e,t;const n=[{name:"waypoints"},s[1],{iconNode:s[0]}];let i={$$slots:{default:[Gs]},$$scope:{ctx:s}};for(let o=0;o<n.length;o+=1)i=E(i,n[o]);return e=new me({props:i}),{c(){U(e.$$.fragment)},m(o,r){L(e,o,r),t=!0},p(o,[r]){const l=r&3?X(n,[n[0],r&2&&pe(o[1]),r&1&&{iconNode:o[0]}]):{};r&8&&(l.$$scope={dirty:r,ctx:o}),e.$set(l)},i(o){t||(O(e.$$.fragment,o),t=!0)},o(o){P(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function Js(s,e,t){let{$$slots:n={},$$scope:i}=e;const o=[["circle",{cx:"12",cy:"4.5",r:"2.5"}],["path",{d:"m10.2 6.3-3.9 3.9"}],["circle",{cx:"4.5",cy:"12",r:"2.5"}],["path",{d:"M7 12h10"}],["circle",{cx:"19.5",cy:"12",r:"2.5"}],["path",{d:"m13.8 17.7 3.9-3.9"}],["circle",{cx:"12",cy:"19.5",r:"2.5"}]];return s.$$set=r=>{t(1,e=E(E({},e),x(r))),"$$scope"in r&&t(3,i=r.$$scope)},e=x(e),[o,e,n,i]}class Hs extends D{constructor(e){super(),B(this,e,Js,Vs,j,{})}}const Qs=Hs;function Zs(s,{from:e,to:t},n={}){const i=getComputedStyle(s),o=i.transform==="none"?"":i.transform,[r,l]=i.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*r/t.width-(t.left+r),c=e.top+e.height*l/t.height-(t.top+l),{delay:p=0,duration:f=h=>Math.sqrt(h)*120,easing:u=tn}=n;return{delay:p,duration:_e(f)?f(Math.sqrt(a*a+c*c)):f,easing:u,css:(h,d)=>{const m=d*a,_=d*c,g=h+d*e.width/t.width,k=h+d*e.height/t.height;return`transform: ${o} translate(${m}px, ${_}px) scale(${g}, ${k});`}}}const Nt=[{final:[{pos:{x:8,y:8},skin:"square2"},{pos:{x:8,y:8},skin:"rhombus2"}],levelId:0,start:[{pos:{x:8,y:5},skin:"square2"},{pos:{x:8,y:11},skin:"rhombus2"}]},{final:[{pos:{x:8,y:8},skin:"square2"},{pos:{x:7,y:7},skin:"square2"},{pos:{x:9,y:9},skin:"square2"}],levelId:1,start:[{pos:{x:3,y:8},skin:"square2"},{pos:{x:8,y:8},skin:"square2"},{pos:{x:13,y:8},skin:"square2"}]},{final:[{pos:{x:7,y:7},skin:"triangle2_rb"},{pos:{x:9,y:9},skin:"triangle2_lt"},{pos:{x:8,y:8},skin:"square3"}],levelId:2,start:[{pos:{x:9,y:12},skin:"triangle2_rb"},{pos:{x:7,y:12},skin:"triangle2_lt"},{pos:{x:8,y:5},skin:"square3"}]},{final:[{pos:{x:7,y:6},skin:"triangle3_b"},{pos:{x:7,y:10},skin:"triangle3_t"},{pos:{x:7,y:8},skin:"rhombus3"}],levelId:3,start:[{pos:{x:10,y:11},skin:"triangle3_b"},{pos:{x:10,y:5},skin:"triangle3_t"},{pos:{x:5,y:8},skin:"rhombus3"}]}];function At(s,e,t){const n=s.slice();return n[30]=e[t],n}function xt(s,e,t){const n=s.slice();return n[33]=e[t],n}function jt(s,e,t){const n=s.slice();return n[33]=e[t],n[37]=t,n}function Lt(s){let e=s[5],t,n,i=Ut(s);return{c(){i.c(),t=de()},m(o,r){i.m(o,r),R(o,t,r),n=!0},p(o,r){r[0]&32&&j(e,e=o[5])?(ue(),P(i,1,1,A),he(),i=Ut(o),i.c(),O(i,1),i.m(t.parentNode,t)):i.p(o,r)},i(o){n||(O(i),n=!0)},o(o){P(i),n=!1},d(o){o&&T(t),i.d(o)}}}function Mt(s,e){let t,n,i;return n=new os({props:{shapePos:e[33].pos,shapeSkin:e[33].loadSkin()}}),{key:s,first:null,c(){t=de(),U(n.$$.fragment),this.first=t},m(o,r){R(o,t,r),L(n,o,r),i=!0},p(o,r){e=o;const l={};r[0]&64&&(l.shapePos=e[33].pos),r[0]&64&&(l.shapeSkin=e[33].loadSkin()),n.$set(l)},i(o){i||(O(n.$$.fragment,o),i=!0)},o(o){P(n.$$.fragment,o),i=!1},d(o){o&&T(t),M(n,o)}}}function Ut(s){let e=[],t=new Map,n,i,o=V(s[6]);const r=l=>l[37];for(let l=0;l<o.length;l+=1){let a=jt(s,o,l),c=r(a);t.set(c,e[l]=Mt(c,a))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();n=de()},m(l,a){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(l,a);R(l,n,a),i=!0},p(l,a){a[0]&64&&(o=V(l[6]),ue(),e=ut(e,a,r,1,l,o,t,n.parentNode,ct,Mt,n,jt),he())},i(l){if(!i){for(let a=0;a<o.length;a+=1)O(e[a]);i=!0}},o(l){for(let a=0;a<e.length;a+=1)P(e[a]);i=!1},d(l){l&&T(n);for(let a=0;a<e.length;a+=1)e[a].d(l)}}}function Bt(s){let e=[],t=new Map,n,i,o,r,l,a=V(s[14]);const c=f=>f[33].id;for(let f=0;f<a.length;f+=1){let u=xt(s,a,f),h=c(u);t.set(h,e[f]=Dt(h,u))}i=new ns({props:{board:s[15]}});let p=ce;return{c(){for(let f=0;f<e.length;f+=1)e[f].c();n=ge(),U(i.$$.fragment),o=ge(),r=de()},m(f,u){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(f,u);R(f,n,u),L(i,f,u),R(f,o,u),R(f,r,u),l=!0},p(f,u){u[0]&53259&&(a=V(f[14]),ue(),e=ut(e,u,c,1,f,a,t,n.parentNode,ct,Dt,n,xt),he())},i(f){if(!l){for(let u=0;u<a.length;u+=1)O(e[u]);O(i.$$.fragment,f),O(p),l=!0}},o(f){for(let u=0;u<e.length;u+=1)P(e[u]);P(i.$$.fragment,f),P(p),l=!1},d(f){f&&(T(n),T(o),T(r));for(let u=0;u<e.length;u+=1)e[u].d(f);M(i,f)}}}function Dt(s,e){let t,n,i;return n=new Mn({props:{introDelay:e[1]?-1:e[33].id,boardPoints:e[15].boardPoints,blockSize:e[12],shapeSkin:e[33].loadSkin(),shape:e[33],hidden:e[0],shake:e[3]}}),{key:s,first:null,c(){t=de(),U(n.$$.fragment),this.first=t},m(o,r){R(o,t,r),L(n,o,r),i=!0},p(o,r){e=o;const l={};r[0]&16386&&(l.introDelay=e[1]?-1:e[33].id),r[0]&4096&&(l.blockSize=e[12]),r[0]&16384&&(l.shapeSkin=e[33].loadSkin()),r[0]&16384&&(l.shape=e[33]),r[0]&1&&(l.hidden=e[0]),r[0]&8&&(l.shake=e[3]),n.$set(l)},i(o){i||(O(n.$$.fragment,o),i=!0)},o(o){P(n.$$.fragment,o),i=!1},d(o){o&&T(t),M(n,o)}}}function zt(s){let e,t,n,i;return{c(){e=J("form"),t=J("input"),v(t,"placeholder","shapeName"),v(t,"class","svelte-d39b1x"),v(e,"class","svelte-d39b1x")},m(o,r){R(o,e,r),G(e,t),bt(t,s[8]),n||(i=[ee(t,"input",s[19]),ee(e,"submit",Xe(s[20]))],n=!0)},p(o,r){r[0]&256&&t.value!==o[8]&&bt(t,o[8])},d(o){o&&T(e),n=!1,Y(i)}}}function Ft(s,e){let t,n,i,o,r,l=A,a,c,p;var f=e[30].icon;function u(h,d){return{props:{color:"black",size:"1em"}}}return f&&(n=yt(f,u())),{key:s,first:null,c(){t=J("button"),n&&U(n.$$.fragment),i=ge(),v(t,"class","svelte-d39b1x"),F(t,"dev",ce),F(t,"active",e[13]),this.first=t},m(h,d){R(h,t,d),n&&L(n,t,null),G(t,i),a=!0,c||(p=ee(t,"click",function(){_e(e[30].action)&&e[30].action.apply(this,arguments)}),c=!0)},p(h,d){if(e=h,d[0]&512&&f!==(f=e[30].icon)){if(n){ue();const m=n;P(m.$$.fragment,1,0,()=>{M(m,1)}),he()}f?(n=yt(f,u()),U(n.$$.fragment),O(n.$$.fragment,1),L(n,t,i)):n=null}(!a||d[0]&8192)&&F(t,"active",e[13])},r(){r=t.getBoundingClientRect()},f(){Cn(t),l(),Zt(t,r)},a(){l(),l=vn(t,r,Zs,{})},i(h){a||(n&&O(n.$$.fragment,h),h&&Z(()=>{a&&(o||(o=We(t,ye,{},!0)),o.run(1))}),a=!0)},o(h){n&&P(n.$$.fragment,h),h&&(o||(o=We(t,ye,{},!1)),o.run(0)),a=!1},d(h){h&&T(t),n&&M(n),h&&o&&o.end(),c=!1,p()}}}function Ys(s){let e,t=s[5]+1+"",n,i,o,r,l,a,c,p,f,u,h,d,m=[],_=new Map,g,k=!(s[0]||s[1])&&Lt(s),w=!s[13]&&Bt(s),C=s[4]&&zt(s),I=V(s[9]);const N=y=>y[30].icon;for(let y=0;y<I.length;y+=1){let S=At(s,I,y),b=N(S);_.set(b,m[y]=Ft(b,S))}return{c(){e=J("span"),n=Re(t),i=Re("/"),o=Re(s[7]),r=ge(),l=J("div"),k&&k.c(),a=ge(),c=J("div"),w&&w.c(),u=ge(),h=J("nav"),C&&C.c(),d=ge();for(let y=0;y<m.length;y+=1)m[y].c();v(e,"class","svelte-d39b1x"),F(e,"active",s[13]),v(l,"class","preview svelte-d39b1x"),F(l,"completed",s[13]),K(l,"--board-size",s[15].boardSize),v(c,"class","board svelte-d39b1x"),F(c,"completed",s[13]),K(c,"--board-size",s[15].boardSize),v(h,"class","svelte-d39b1x")},m(y,S){R(y,e,S),G(e,n),G(e,i),G(e,o),R(y,r,S),R(y,l,S),k&&k.m(l,null),R(y,a,S),R(y,c,S),w&&w.m(c,null),p=yn.observe(c,s[18].bind(c)),R(y,u,S),R(y,h,S),C&&C.m(h,null),G(h,d);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(h,null);g=!0},p(y,S){if((!g||S[0]&32)&&t!==(t=y[5]+1+"")&&gt(n,t),(!g||S[0]&128)&&gt(o,y[7]),(!g||S[0]&8192)&&F(e,"active",y[13]),y[0]||y[1]?k&&(ue(),P(k,1,1,()=>{k=null}),he()):k?(k.p(y,S),S[0]&3&&O(k,1)):(k=Lt(y),k.c(),O(k,1),k.m(l,null)),(!g||S[0]&8192)&&F(l,"completed",y[13]),y[13]?w&&(ue(),P(w,1,1,()=>{w=null}),he()):w?(w.p(y,S),S[0]&8192&&O(w,1)):(w=Bt(y),w.c(),O(w,1),w.m(c,null)),(!g||S[0]&8192)&&F(c,"completed",y[13]),y[4]?C?C.p(y,S):(C=zt(y),C.c(),C.m(h,d)):C&&(C.d(1),C=null),S[0]&8704){I=V(y[9]),ue();for(let b=0;b<m.length;b+=1)m[b].r();m=ut(m,S,N,1,y,I,_,h,In,Ft,null,At);for(let b=0;b<m.length;b+=1)m[b].a();he()}},i(y){if(!g){O(k),O(w),f||Z(()=>{f=Xt(c,ye,{duration:500}),f.start()});for(let S=0;S<I.length;S+=1)O(m[S]);g=!0}},o(y){P(k),P(w);for(let S=0;S<m.length;S+=1)P(m[S]);g=!1},d(y){y&&(T(e),T(r),T(l),T(a),T(c),T(u),T(h)),k&&k.d(),w&&w.d(),p(),C&&C.d();for(let S=0;S<m.length;S+=1)m[S].d()}}}function Xs(s,e,t){let n,i,o,r,l,a,c,p=A,f=()=>(p(),p=Ze(o,q=>t(13,c=q)),o),u,h=A,d=()=>(h(),h=Ze(i,q=>t(14,u=q)),i);Ye(s,nt,q=>t(21,a=q)),s.$$.on_destroy.push(()=>p()),s.$$.on_destroy.push(()=>h()),new Xn("https://db.cubiq.dev/");let m=0,_=!1,g=!1,k;const w=new rs(te);let C=!1,I=[];const N=q=>{{const Ge=Nt[q];pt(o,c=!1,c),w.setupLevel(Ge,q),t(6,I=w.final)}},y=q=>{const Ge=q.map(({skin:cn,path:un,origin:hn})=>({[cn]:{path:un,origin:hn}}));return Object.assign({},...Ge)},S=async()=>{{pt(nt,a=y(ls),a),t(7,b=Nt.length),console.log(b);return}};let b=0;const $=(q=1)=>{t(5,m=(m+q+b)%b),N(m)},re=Ae(null);Ye(s,re,q=>t(17,l=q)),rt(async()=>{await S(),t(5,m=0),N(m)});let H="square",le=!1;function Me(){var q;k=(q=Le.entries.get(this))==null?void 0:q.borderBoxSize,t(2,k)}function ln(){H=this.value,t(8,H)}const an=()=>{w.addShape(H),t(4,le=!1)};return s.$$.update=()=>{s.$$.dirty[0]&4&&t(12,n=k?k[0].blockSize:0),s.$$.dirty[0]&131099&&t(9,r=[{icon:ms,action:()=>$(-1),cond:!(_||g)},{icon:ws,action:()=>$(),cond:!(_||g)},{icon:Ks,action:()=>{S(),console.log("updated")},cond:ce},{icon:Qs,action:()=>t(0,_=!_),cond:ce},{icon:Bs,action:()=>t(4,le=!le),cond:ce},{icon:Is,action:()=>t(3,C=w.toggleRemoveMode()),cond:ce},{icon:Os,action:()=>w.checkBoardState(null,!0),cond:ce},{icon:xs,action:()=>t(1,g=w.toggleEditBoard()),cond:ce}].filter(q=>q.cond===void 0||q.cond))},d(t(11,i=w.boardShapes$)),f(t(10,o=w.levelCompleted$)),[_,g,k,C,le,m,I,b,H,r,o,i,n,c,u,w,re,l,Me,ln,an]}class ei extends D{constructor(e){super(),B(this,e,Xs,Ys,j,{},null,[-1,-1])}}function Wt(s){let e,t;return e=new ei({}),{c(){U(e.$$.fragment)},m(n,i){L(e,n,i),t=!0},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ti(s){let e,t,n=s[0]&&Wt();return{c(){e=J("main"),n&&n.c(),v(e,"class","svelte-1jh7mv5")},m(i,o){R(i,e,o),n&&n.m(e,null),t=!0},p(i,[o]){i[0]?n?o&1&&O(n,1):(n=Wt(),n.c(),O(n,1),n.m(e,null)):n&&(ue(),P(n,1,1,()=>{n=null}),he())},i(i){t||(O(n),t=!0)},o(i){P(n),t=!1},d(i){i&&T(e),n&&n.d()}}}function ni(s,e,t){let n=!1;return rt(()=>{setTimeout(()=>{t(0,n=!0)},300)}),[n]}class si extends D{constructor(e){super(),B(this,e,ni,ti,j,{})}}new si({target:document.getElementById("app")});
